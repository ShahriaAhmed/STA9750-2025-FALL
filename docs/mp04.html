<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.21">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Labor Statistics – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea1d7ac60288e0f1efdbc993fd8432ae.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ff63373b1067ca6f91cf1456aa1f00a2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.34.0/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="mp02.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./projects.html"> 
<span class="menu-text">Other Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mp01.html"> 
<span class="menu-text">Project #1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mp02.html"> 
<span class="menu-text">Project #2</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mp03.html"> 
<span class="menu-text">Project #3</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./mp04.html" aria-current="page"> 
<span class="menu-text">Project #4</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./finalproject.html"> 
<span class="menu-text">Final Project</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ShahriaAhmed/STA9750-2025-FALL"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#bls-seasonally-adjusted-employment-numbers" id="toc-bls-seasonally-adjusted-employment-numbers" class="nav-link active" data-scroll-target="#bls-seasonally-adjusted-employment-numbers">BLS Seasonally Adjusted Employment Numbers</a></li>
  <li><a href="#bls-seasonally-adjusted-revisions" id="toc-bls-seasonally-adjusted-revisions" class="nav-link" data-scroll-target="#bls-seasonally-adjusted-revisions">BLS Seasonally Adjusted Revisions</a></li>
  <li><a href="#exploratory-analysis" id="toc-exploratory-analysis" class="nav-link" data-scroll-target="#exploratory-analysis">Exploratory Analysis</a>
  <ul class="collapse">
  <li><a href="#statistics" id="toc-statistics" class="nav-link" data-scroll-target="#statistics">Statistics</a></li>
  <li><a href="#visuals" id="toc-visuals" class="nav-link" data-scroll-target="#visuals">Visuals</a></li>
  </ul></li>
  <li><a href="#statical-analysis" id="toc-statical-analysis" class="nav-link" data-scroll-target="#statical-analysis">Statical Analysis</a></li>
  <li><a href="#fact-checking-politicians" id="toc-fact-checking-politicians" class="nav-link" data-scroll-target="#fact-checking-politicians">Fact Checking Politicians</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Labor Statistics</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Hello! Today we will be looking at data from the Bureau of Labor Statistics. This data is released on the first Friday of every month and is highly anticipated by a variety of players in the stock market. The BLS produces detailed industry estimates of nonfarm employment, hours, and earnings of workers on payrolls. Ultimately this estimate of jobs gives us a gauge of how well the economy is doing which can have second order effects on stocks and major indices.</p>
<p>Click on the code chunks below to expand or collapse code if you’re following along. Use the navigation bar on the right to navigate through the analysis and policy brief.</p>
<p>For this analysis, we will go to the BLS website and get monthly data going as far back as 1979. This requires a POST request instead of a simple GET. The following code block visits the website, scrapes the data and provides a well formatted output in the form of a datatable. Click on the code block to view the syntax.</p>
<section id="bls-seasonally-adjusted-employment-numbers" class="level1">
<h1>BLS Seasonally Adjusted Employment Numbers</h1>
<div class="cell">
<details class="code-fold">
<summary>historical jobs datapull</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load all required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="do">### 1. define and perform the http request</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>dir_path <span class="ot">&lt;-</span> <span class="st">"data/mp04"</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>csv_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir_path, <span class="st">"ces_historical_data.csv"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># create directory if it doesn't exist</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(dir_path)) {</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(dir_path, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># if cached file exists, read and load it</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(csv_path)) {</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  ces_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(csv_path, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)  </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># otherwise download the data</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"downloading ces data from bls..."</span>)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  bls_url <span class="ot">&lt;-</span> <span class="st">"https://data.bls.gov/pdq/SurveyOutputServlet"</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  form_payload <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"series_id"</span> <span class="ot">=</span> <span class="st">"CES0000000001"</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"from_year"</span> <span class="ot">=</span> <span class="st">"1979"</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"to_year"</span> <span class="ot">=</span> <span class="st">"2025"</span>,</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"survey"</span> <span class="ot">=</span> <span class="st">"CE"</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># build and perform the request</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  resp <span class="ot">&lt;-</span> <span class="fu">request</span>(bls_url) <span class="sc">|&gt;</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_body_form</span>(<span class="sc">!!!</span>form_payload) <span class="sc">|&gt;</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_perform</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">resp_check_status</span>() </span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="do">###  parse the html response with rvest</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  html_content <span class="ot">&lt;-</span> <span class="fu">resp_body_html</span>(resp)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># extract the main data table</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>  raw_table <span class="ot">&lt;-</span> html_content <span class="sc">|&gt;</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_element</span>(<span class="st">"table#table0"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_table</span>()</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>  <span class="do">###  pivot and clean the data</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  ces_data <span class="ot">&lt;-</span> raw_table <span class="sc">|&gt;</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Year) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">str_detect</span>(Year, <span class="st">"Preliminary"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">cols =</span> <span class="sc">-</span>Year,</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_to =</span> <span class="st">"month"</span>,</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">values_to =</span> <span class="st">"level_str"</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>    <span class="co">#  modify column types and finalize for table</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date_str =</span> <span class="fu">str_c</span>(Year, <span class="st">" "</span>, month)) <span class="sc">|&gt;</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">suppressWarnings</span>(<span class="fu">ym</span>(date_str))) <span class="sc">|&gt;</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">level =</span> <span class="fu">as.numeric</span>(<span class="fu">str_replace_all</span>(level_str, <span class="st">","</span>, <span class="st">""</span>))) <span class="sc">|&gt;</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_na</span>(date, level) <span class="sc">|&gt;</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(date, level) <span class="sc">|&gt;</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(date)</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>  <span class="co"># save to file</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(ces_data, csv_path)</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"ces data saved to "</span>, csv_path)</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Let’s see how this looks in a clean datatable</p>
<div class="cell">
<details class="code-fold">
<summary>show datatable</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">### display as an interactive datatable</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>ces_data <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">format</span>(date, <span class="st">"%Y-%m"</span>),  <span class="co"># format date </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Employees =</span> <span class="fu">format</span>(level, <span class="at">big.mark =</span> <span class="st">","</span>)  <span class="co"># add commas to clean up numbers</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date, Employees) <span class="sc">|&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">pageLength =</span> <span class="dv">10</span>, <span class="co">#10 results </span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">lengthMenu =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">100</span>),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">order =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">0</span>, <span class="st">'desc'</span>)),  <span class="co"># sort by date descending</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"CES Total Nonfarm Payroll Employment (Seasonally Adjusted, thousands)"</span>, <span class="co">#title</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> <span class="st">'top'</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">class =</span> <span class="st">'display'</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Employees'</span>,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">fontWeight =</span> <span class="st">'bold'</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-969a345a4be770996323" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-969a345a4be770996323">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>CES Total Nonfarm Payroll Employment (Seasonally Adjusted, thousands)<\/caption>","data":[["1979-01","1979-02","1979-03","1979-04","1979-05","1979-06","1979-07","1979-08","1979-09","1979-10","1979-11","1979-12","1980-01","1980-02","1980-03","1980-04","1980-05","1980-06","1980-07","1980-08","1980-09","1980-10","1980-11","1980-12","1981-01","1981-02","1981-03","1981-04","1981-05","1981-06","1981-07","1981-08","1981-09","1981-10","1981-11","1981-12","1982-01","1982-02","1982-03","1982-04","1982-05","1982-06","1982-07","1982-08","1982-09","1982-10","1982-11","1982-12","1983-01","1983-02","1983-03","1983-04","1983-05","1983-06","1983-07","1983-08","1983-09","1983-10","1983-11","1983-12","1984-01","1984-02","1984-03","1984-04","1984-05","1984-06","1984-07","1984-08","1984-09","1984-10","1984-11","1984-12","1985-01","1985-02","1985-03","1985-04","1985-05","1985-06","1985-07","1985-08","1985-09","1985-10","1985-11","1985-12","1986-01","1986-02","1986-03","1986-04","1986-05","1986-06","1986-07","1986-08","1986-09","1986-10","1986-11","1986-12","1987-01","1987-02","1987-03","1987-04","1987-05","1987-06","1987-07","1987-08","1987-09","1987-10","1987-11","1987-12","1988-01","1988-02","1988-03","1988-04","1988-05","1988-06","1988-07","1988-08","1988-09","1988-10","1988-11","1988-12","1989-01","1989-02","1989-03","1989-04","1989-05","1989-06","1989-07","1989-08","1989-09","1989-10","1989-11","1989-12","1990-01","1990-02","1990-03","1990-04","1990-05","1990-06","1990-07","1990-08","1990-09","1990-10","1990-11","1990-12","1991-01","1991-02","1991-03","1991-04","1991-05","1991-06","1991-07","1991-08","1991-09","1991-10","1991-11","1991-12","1992-01","1992-02","1992-03","1992-04","1992-05","1992-06","1992-07","1992-08","1992-09","1992-10","1992-11","1992-12","1993-01","1993-02","1993-03","1993-04","1993-05","1993-06","1993-07","1993-08","1993-09","1993-10","1993-11","1993-12","1994-01","1994-02","1994-03","1994-04","1994-05","1994-06","1994-07","1994-08","1994-09","1994-10","1994-11","1994-12","1995-01","1995-02","1995-03","1995-04","1995-05","1995-06","1995-07","1995-08","1995-09","1995-10","1995-11","1995-12","1996-01","1996-02","1996-03","1996-04","1996-05","1996-06","1996-07","1996-08","1996-09","1996-10","1996-11","1996-12","1997-01","1997-02","1997-03","1997-04","1997-05","1997-06","1997-07","1997-08","1997-09","1997-10","1997-11","1997-12","1998-01","1998-02","1998-03","1998-04","1998-05","1998-06","1998-07","1998-08","1998-09","1998-10","1998-11","1998-12","1999-01","1999-02","1999-03","1999-04","1999-05","1999-06","1999-07","1999-08","1999-09","1999-10","1999-11","1999-12","2000-01","2000-02","2000-03","2000-04","2000-05","2000-06","2000-07","2000-08","2000-09","2000-10","2000-11","2000-12","2001-01","2001-02","2001-03","2001-04","2001-05","2001-06","2001-07","2001-08","2001-09","2001-10","2001-11","2001-12","2002-01","2002-02","2002-03","2002-04","2002-05","2002-06","2002-07","2002-08","2002-09","2002-10","2002-11","2002-12","2003-01","2003-02","2003-03","2003-04","2003-05","2003-06","2003-07","2003-08","2003-09","2003-10","2003-11","2003-12","2004-01","2004-02","2004-03","2004-04","2004-05","2004-06","2004-07","2004-08","2004-09","2004-10","2004-11","2004-12","2005-01","2005-02","2005-03","2005-04","2005-05","2005-06","2005-07","2005-08","2005-09","2005-10","2005-11","2005-12","2006-01","2006-02","2006-03","2006-04","2006-05","2006-06","2006-07","2006-08","2006-09","2006-10","2006-11","2006-12","2007-01","2007-02","2007-03","2007-04","2007-05","2007-06","2007-07","2007-08","2007-09","2007-10","2007-11","2007-12","2008-01","2008-02","2008-03","2008-04","2008-05","2008-06","2008-07","2008-08","2008-09","2008-10","2008-11","2008-12","2009-01","2009-02","2009-03","2009-04","2009-05","2009-06","2009-07","2009-08","2009-09","2009-10","2009-11","2009-12","2010-01","2010-02","2010-03","2010-04","2010-05","2010-06","2010-07","2010-08","2010-09","2010-10","2010-11","2010-12","2011-01","2011-02","2011-03","2011-04","2011-05","2011-06","2011-07","2011-08","2011-09","2011-10","2011-11","2011-12","2012-01","2012-02","2012-03","2012-04","2012-05","2012-06","2012-07","2012-08","2012-09","2012-10","2012-11","2012-12","2013-01","2013-02","2013-03","2013-04","2013-05","2013-06","2013-07","2013-08","2013-09","2013-10","2013-11","2013-12","2014-01","2014-02","2014-03","2014-04","2014-05","2014-06","2014-07","2014-08","2014-09","2014-10","2014-11","2014-12","2015-01","2015-02","2015-03","2015-04","2015-05","2015-06","2015-07","2015-08","2015-09","2015-10","2015-11","2015-12","2016-01","2016-02","2016-03","2016-04","2016-05","2016-06","2016-07","2016-08","2016-09","2016-10","2016-11","2016-12","2017-01","2017-02","2017-03","2017-04","2017-05","2017-06","2017-07","2017-08","2017-09","2017-10","2017-11","2017-12","2018-01","2018-02","2018-03","2018-04","2018-05","2018-06","2018-07","2018-08","2018-09","2018-10","2018-11","2018-12","2019-01","2019-02","2019-03","2019-04","2019-05","2019-06","2019-07","2019-08","2019-09","2019-10","2019-11","2019-12","2020-01","2020-02","2020-03","2020-04","2020-05","2020-06","2020-07","2020-08","2020-09","2020-10","2020-11","2020-12","2021-01","2021-02","2021-03","2021-04","2021-05","2021-06","2021-07","2021-08","2021-09","2021-10","2021-11","2021-12","2022-01","2022-02","2022-03","2022-04","2022-05","2022-06","2022-07","2022-08","2022-09","2022-10","2022-11","2022-12","2023-01","2023-02","2023-03","2023-04","2023-05","2023-06","2023-07","2023-08","2023-09","2023-10","2023-11","2023-12","2024-01","2024-02","2024-03","2024-04","2024-05","2024-06","2024-07","2024-08","2024-09","2024-10","2024-11","2024-12","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06"],[" 88,808"," 89,055"," 89,479"," 89,417"," 89,789"," 90,108"," 90,217"," 90,300"," 90,327"," 90,481"," 90,573"," 90,672"," 90,800"," 90,883"," 90,994"," 90,849"," 90,420"," 90,101"," 89,840"," 90,099"," 90,213"," 90,490"," 90,747"," 90,943"," 91,033"," 91,105"," 91,210"," 91,283"," 91,296"," 91,490"," 91,601"," 91,565"," 91,477"," 91,380"," 91,171"," 90,895"," 90,565"," 90,563"," 90,434"," 90,150"," 90,107"," 89,865"," 89,521"," 89,363"," 89,183"," 88,907"," 88,786"," 88,771"," 88,990"," 88,917"," 89,090"," 89,364"," 89,644"," 90,021"," 90,437"," 90,129"," 91,247"," 91,520"," 91,875"," 92,230"," 92,673"," 93,157"," 93,429"," 93,792"," 94,098"," 94,479"," 94,789"," 95,032"," 95,344"," 95,629"," 95,982"," 96,107"," 96,372"," 96,503"," 96,842"," 97,038"," 97,312"," 97,459"," 97,648"," 97,840"," 98,045"," 98,233"," 98,443"," 98,609"," 98,732"," 98,847"," 98,934"," 99,121"," 99,248"," 99,155"," 99,473"," 99,588"," 99,934","100,121","100,308","100,509","100,678","100,919","101,164","101,499","101,728","101,900","102,247","102,420","102,647","103,138","103,372","103,661","103,753","104,214","104,489","104,732","104,962","105,326","105,550","105,674","106,013","106,276","106,617","106,898","107,161","107,427","107,621","107,791","107,913","108,027","108,069","108,120","108,369","108,476","108,752","108,836","109,196","109,436","109,640","109,674","109,828","109,850","109,815","109,606","109,523","109,377","109,222","109,168","109,058","108,735","108,568","108,350","108,253","108,330","108,290","108,299","108,335","108,361","108,300","108,330","108,365","108,313","108,367","108,517","108,647","108,707","108,792","108,916","108,952","109,138","109,283","109,502","109,790","110,048","110,004","110,300","110,571","110,742","111,054","111,200","111,449","111,734","111,988","112,324","112,601","112,782","113,245","113,589","113,922","114,239","114,608","114,903","115,247","115,457","115,868","116,173","116,505","116,694","116,908","117,065","117,047","117,291","117,382","117,646","117,873","118,026","118,165","118,325","118,317","118,737","118,992","119,158","119,496","119,770","120,019","120,198","120,400","120,665","120,947","121,143","121,357","121,674","121,991","122,288","122,560","122,816","123,114","123,086","123,575","123,924","124,226","124,549","124,806","125,017","125,165","125,446","125,846","126,076","126,211","126,546","126,744","126,948","127,223","127,595","127,699","128,118","128,234","128,596","128,813","129,084","129,421","129,572","129,772","130,178","130,467","130,783","131,011","131,121","131,604","131,883","132,105","132,062","132,228","132,234","132,338","132,352","132,556","132,716","132,703","132,788","132,751","132,457","132,409","132,299","132,171","132,021","131,763","131,452","131,144","130,983","130,859","130,736","130,722","130,615","130,632","130,673","130,583","130,582","130,503","130,617","130,616","130,465","130,573","130,441","130,235","130,172","130,196","130,185","130,184","130,153","130,253","130,440","130,481","130,589","130,756","130,820","131,139","131,412","131,697","131,794","131,853","131,940","132,091","132,431","132,504","132,629","132,781","133,033","133,152","133,519","133,689","133,947","134,300","134,503","134,554","134,643","134,999","135,158","135,426","135,731","136,036","136,208","136,249","136,335","136,529","136,693","136,829","136,846","137,061","137,249","137,472","137,558","137,782","137,845","137,993","138,069","138,044","138,013","138,101","138,177","138,291","138,395","138,391","138,327","138,257","138,038","137,851","137,698","137,498","137,211","136,762","136,293","135,543","134,847","134,078","133,317","132,492","131,821","131,468","131,007","130,662","130,472","130,247","130,062","130,058","129,808","129,802","129,705","129,865","130,120","130,643","130,509","130,415","130,416","130,342","130,621","130,749","130,830","130,837","131,056","131,282","131,597","131,704","131,931","131,993","132,125","132,344","132,553","132,690","132,888","133,245","133,508","133,748","133,825","133,933","134,012","134,157","134,338","134,517","134,668","134,825","135,074","135,257","135,545","135,689","135,873","136,095","136,279","136,391","136,646","136,821","137,041","137,316","137,373","137,561","137,712","137,985","138,297","138,512","138,849","139,073","139,269","139,563","139,797","140,090","140,364","140,568","140,827","140,923","141,196","141,538","141,709","141,991","142,125","142,275","142,579","142,808","143,077","143,210","143,407","143,662","143,855","143,900","144,146","144,520","144,662","144,967","145,066","145,183","145,408","145,628","145,848","145,969","146,174","146,380","146,583","146,772","146,919","147,007","147,150","147,373","147,523","147,660","148,054","148,280","148,422","148,740","148,959","149,020","149,279","149,358","149,526","149,617","149,809","150,059","150,065","150,295","150,593","150,621","150,839","150,936","151,171","151,365","151,460","151,668","151,795","152,031","152,292","150,895","130,424","133,040","137,671","139,255","140,819","141,770","142,461","142,731","142,548","142,913","143,422","144,246","144,611","145,032","145,828","146,759","147,246","147,712","148,569","149,206","149,781","150,006","150,875","151,346","151,651","151,892","152,353","153,049","153,286","153,513","153,913","154,210","154,336","154,780","155,086","155,171","155,387","155,614","155,871","156,019","156,176","156,334","156,520","156,661","156,930","157,049","157,271","157,517","157,635","157,828","157,915","158,003","158,074","158,314","158,358","158,619","158,942","159,053","159,155","159,275","159,433","159,452","159,439"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Date<\/th>\n      <th>Employees<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,25,50,100],"order":[[0,"desc"]],"dom":"lfrtip","columnDefs":[{"name":"Date","targets":0},{"name":"Employees","targets":1}],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-weight':'bold'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="bls-seasonally-adjusted-revisions" class="level1">
<h1>BLS Seasonally Adjusted Revisions</h1>
<p>This data gets revised after the initial release as more accurate metrics come in. Let’s take a look at the revisions for each month, going back to 1979. The following code blocks pull the revisions data and format it in a clean datatable.</p>
<div class="cell">
<details class="code-fold">
<summary>revisions datapull</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># function to get ces revisions with saved file</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>get_ces_revisions <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  dir_path <span class="ot">&lt;-</span> <span class="st">"data/mp04"</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  csv_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir_path, <span class="st">"ces_revisions_data.csv"</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create directory if it doesn't exist</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(dir_path)) {</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dir.create</span>(dir_path, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if saved file exists, read and return it</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># # otherwise, download the data</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">file.exists</span>(csv_path)) {</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">read_csv</span>(csv_path, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>))</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># helper function to extract revision data for a single year</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  extract_year_revisions <span class="ot">&lt;-</span> <span class="cf">function</span>(year, html_content) {</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># table ids are just the year </span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    table_id <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"#"</span>, year)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract the table body only </span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    table_data <span class="ot">&lt;-</span> html_content <span class="sc">|&gt;</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_element</span>(table_id) <span class="sc">|&gt;</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_element</span>(<span class="st">"tbody"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_table</span>(<span class="at">header =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># take first 12 rows which are months and select relevant columns</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># column 1 is month, column 3 is 1st estimate, column 5 is 3rd estimate</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    table_data <span class="sc">|&gt;</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="at">month =</span> <span class="dv">1</span>, <span class="at">original =</span> <span class="dv">3</span>, <span class="at">final =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>        <span class="co"># create date from year and month</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">date =</span> <span class="fu">ym</span>(<span class="fu">paste</span>(year, month)),</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>        <span class="co"># clean and convert to numeric value</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">original =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, original)),</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">final =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, final)),</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>        <span class="co"># calculate revision</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">revision =</span> final <span class="sc">-</span> original</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(date, original, final, revision) <span class="sc">|&gt;</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">drop_na</span>()  <span class="co"># remove any rows that didn't read correctly</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># make the request following the same pattern as bls function. copy function from mp02</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  response <span class="ot">&lt;-</span> <span class="fu">request</span>(<span class="st">"https://www.bls.gov"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_url_path</span>(<span class="st">"web"</span>, <span class="st">"empsit"</span>, <span class="st">"cesnaicsrev.htm"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_headers</span>(</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">User-Agent</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0"</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_error</span>(<span class="at">is_error =</span> \(resp) <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_perform</span>()</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># check status</span></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">resp_check_status</span>(response)</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>  html_content <span class="ot">&lt;-</span> <span class="fu">resp_body_html</span>(response)</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>  <span class="co"># apply function to all years from 1979 to 2025 and combine</span></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>  ces_revisions <span class="ot">&lt;-</span> <span class="fu">map</span>(</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1979</span><span class="sc">:</span><span class="dv">2025</span>, </span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">.progress =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">possibly</span>(<span class="sc">~</span><span class="fu">extract_year_revisions</span>(.x, html_content), <span class="at">otherwise =</span> <span class="cn">NULL</span>) <span class="co">#accounts for errors</span></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list_rbind</span>()</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>  <span class="co"># save to directory</span></span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(ces_revisions, csv_path)</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(ces_revisions)</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a><span class="co"># load the data and call function</span></span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>ces_revisions <span class="ot">&lt;-</span> <span class="fu">get_ces_revisions</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>show datatable</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># apply function to all years from 1979 to 2025 and combine</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create a nice datatable</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>ces_revisions <span class="sc">|&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">format</span>(date, <span class="st">"%Y-%m"</span>), <span class="co">#format date</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Original =</span> <span class="fu">format</span>(original, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="co">#account for commas</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Final =</span> <span class="fu">format</span>(final, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Revision =</span> <span class="fu">format</span>(revision, <span class="at">big.mark =</span> <span class="st">","</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date, Original, Final, Revision) <span class="sc">|&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">pageLength =</span> <span class="dv">10</span>, <span class="co">#10 rows</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">lengthMenu =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">100</span>),</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">order =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">0</span>, <span class="st">'desc'</span>)),</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"CES Total Nonfarm Employment Revisions (thousands)"</span>, <span class="co">#title</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> <span class="st">'top'</span>,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">class =</span> <span class="st">'display'</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ebb3509300c112571051" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ebb3509300c112571051">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>CES Total Nonfarm Employment Revisions (thousands)<\/caption>","data":[["1979-01","1979-02","1979-03","1979-04","1979-05","1979-06","1979-07","1979-08","1979-09","1979-10","1979-11","1979-12","1980-01","1980-02","1980-03","1980-04","1980-05","1980-06","1980-07","1980-08","1980-09","1980-10","1980-11","1980-12","1981-01","1981-02","1981-03","1981-04","1981-05","1981-06","1981-07","1981-08","1981-09","1981-10","1981-11","1981-12","1982-01","1982-02","1982-03","1982-04","1982-05","1982-06","1982-07","1982-08","1982-09","1982-10","1982-11","1982-12","1983-01","1983-02","1983-03","1983-04","1983-05","1983-06","1983-07","1983-08","1983-09","1983-10","1983-11","1983-12","1984-01","1984-02","1984-03","1984-04","1984-05","1984-06","1984-07","1984-08","1984-09","1984-10","1984-11","1984-12","1985-01","1985-02","1985-03","1985-04","1985-05","1985-06","1985-07","1985-08","1985-09","1985-10","1985-11","1985-12","1986-01","1986-02","1986-03","1986-04","1986-05","1986-06","1986-07","1986-08","1986-09","1986-10","1986-11","1986-12","1987-01","1987-02","1987-03","1987-04","1987-05","1987-06","1987-07","1987-08","1987-09","1987-10","1987-11","1987-12","1988-01","1988-02","1988-03","1988-04","1988-05","1988-06","1988-07","1988-08","1988-09","1988-10","1988-11","1988-12","1989-01","1989-02","1989-03","1989-04","1989-05","1989-06","1989-07","1989-08","1989-09","1989-10","1989-11","1989-12","1990-01","1990-02","1990-03","1990-04","1990-05","1990-06","1990-07","1990-08","1990-09","1990-10","1990-11","1990-12","1991-01","1991-02","1991-03","1991-04","1991-05","1991-06","1991-07","1991-08","1991-09","1991-10","1991-11","1991-12","1992-01","1992-02","1992-03","1992-04","1992-05","1992-06","1992-07","1992-08","1992-09","1992-10","1992-11","1992-12","1993-01","1993-02","1993-03","1993-04","1993-05","1993-06","1993-07","1993-08","1993-09","1993-10","1993-11","1993-12","1994-01","1994-02","1994-03","1994-04","1994-05","1994-06","1994-07","1994-08","1994-09","1994-10","1994-11","1994-12","1995-01","1995-02","1995-03","1995-04","1995-05","1995-06","1995-07","1995-08","1995-09","1995-10","1995-11","1995-12","1996-01","1996-02","1996-03","1996-04","1996-05","1996-06","1996-07","1996-08","1996-09","1996-10","1996-11","1996-12","1997-01","1997-02","1997-03","1997-04","1997-05","1997-06","1997-07","1997-08","1997-09","1997-10","1997-11","1997-12","1998-01","1998-02","1998-03","1998-04","1998-05","1998-06","1998-07","1998-08","1998-09","1998-10","1998-11","1998-12","1999-01","1999-02","1999-03","1999-04","1999-05","1999-06","1999-07","1999-08","1999-09","1999-10","1999-11","1999-12","2000-01","2000-02","2000-03","2000-04","2000-05","2000-06","2000-07","2000-08","2000-09","2000-10","2000-11","2000-12","2001-01","2001-02","2001-03","2001-04","2001-05","2001-06","2001-07","2001-08","2001-09","2001-10","2001-11","2001-12","2002-01","2002-02","2002-03","2002-04","2002-05","2002-06","2002-07","2002-08","2002-09","2002-10","2002-11","2002-12","2003-01","2003-02","2003-03","2003-04","2003-05","2003-06","2003-07","2003-08","2003-09","2003-10","2003-11","2003-12","2004-01","2004-02","2004-03","2004-04","2004-05","2004-06","2004-07","2004-08","2004-09","2004-10","2004-11","2004-12","2005-01","2005-02","2005-03","2005-04","2005-05","2005-06","2005-07","2005-08","2005-09","2005-10","2005-11","2005-12","2006-01","2006-02","2006-03","2006-04","2006-05","2006-06","2006-07","2006-08","2006-09","2006-10","2006-11","2006-12","2007-01","2007-02","2007-03","2007-04","2007-05","2007-06","2007-07","2007-08","2007-09","2007-10","2007-11","2007-12","2008-01","2008-02","2008-03","2008-04","2008-05","2008-06","2008-07","2008-08","2008-09","2008-10","2008-11","2008-12","2009-01","2009-02","2009-03","2009-04","2009-05","2009-06","2009-07","2009-08","2009-09","2009-10","2009-11","2009-12","2010-01","2010-02","2010-03","2010-04","2010-05","2010-06","2010-07","2010-08","2010-09","2010-10","2010-11","2010-12","2011-01","2011-02","2011-03","2011-04","2011-05","2011-06","2011-07","2011-08","2011-09","2011-10","2011-11","2011-12","2012-01","2012-02","2012-03","2012-04","2012-05","2012-06","2012-07","2012-08","2012-09","2012-10","2012-11","2012-12","2013-01","2013-02","2013-03","2013-04","2013-05","2013-06","2013-07","2013-08","2013-09","2013-10","2013-11","2013-12","2014-01","2014-02","2014-03","2014-04","2014-05","2014-06","2014-07","2014-08","2014-09","2014-10","2014-11","2014-12","2015-01","2015-02","2015-03","2015-04","2015-05","2015-06","2015-07","2015-08","2015-09","2015-10","2015-11","2015-12","2016-01","2016-02","2016-03","2016-04","2016-05","2016-06","2016-07","2016-08","2016-09","2016-10","2016-11","2016-12","2017-01","2017-02","2017-03","2017-04","2017-05","2017-06","2017-07","2017-08","2017-09","2017-10","2017-11","2017-12","2018-01","2018-02","2018-03","2018-04","2018-05","2018-06","2018-07","2018-08","2018-09","2018-10","2018-11","2018-12","2019-01","2019-02","2019-03","2019-04","2019-05","2019-06","2019-07","2019-08","2019-09","2019-10","2019-11","2019-12","2020-01","2020-02","2020-03","2020-04","2020-05","2020-06","2020-07","2020-08","2020-09","2020-10","2020-11","2020-12","2021-01","2021-02","2021-03","2021-04","2021-05","2021-06","2021-07","2021-08","2021-09","2021-10","2021-11","2021-12","2022-01","2022-02","2022-03","2022-04","2022-05","2022-06","2022-07","2022-08","2022-09","2022-10","2022-11","2022-12","2023-01","2023-02","2023-03","2023-04","2023-05","2023-06","2023-07","2023-08","2023-09","2023-10","2023-11","2023-12","2024-01","2024-02","2024-03","2024-04","2024-05","2024-06","2024-07","2024-08","2024-09","2024-10","2024-11","2024-12","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06"],["    325","    301","    324","     72","    171","     97","     44","      2","    135","    306","    218","    317","    305","    141","   -140","   -479","   -180","   -514","   -238","    201","    187","    257","    268","    205","    374","     51","      1","   -220","    -16","    -14","    383","     61","    -54","   -205","   -237","   -293","   -237","     97","   -218","   -167","    -24","   -141","    -17","   -211","   -230","   -263","   -163","   -166","    339","   -180","    119","    258","    374","    344","    487","   -411","    733","    320","    370","    231","    287","    386","    143","    407","    232","    301","    302","    159","    139","    441","    303","    309","    348","    119","    381","    217","    345","     80","    243","    288","    128","    414","    182","    320","    566","    226","    192","    206","    149","    -89","    389","    202","    107","    298","    249","    269","    448","    337","    164","    316","    123","    116","    304","    156","    132","    549","    274","    326","    107","    531","    262","    174","    209","    346","    283","    219","    255","    323","    463","    279","    408","    289","    180","    117","    101","    180","    169","    110","    209","    233","    210","    142","    275","    372","     26","     64","    164","     40","   -219","    -75","   -101","    -68","   -267","    -76","   -232","   -184","   -206","   -124","     59","    -50","    -51","     34","     24","     -1","   -241","     31","    -91","    164","     19","    126","     68","   -117","    198","    -83","    -57","     27","    105","     64","    106","    365","    -22","    119","    209","     13","    162","    -39","    156","    177","    208","    183","     62","    217","    456","    267","    191","    379","    259","    179","    239","    194","    350","    256","    134","    318","    203","     -9","   -101","    215","     55","    249","    121","    116","    166","    151","   -201","    705","    140","      2","    348","    239","    193","    250","    -40","    210","    118","    262","    271","    339","    175","    142","    138","    217","    316","     49","    215","    284","    404","    370","    358","    310","    -36","    262","    296","    205","     66","    365","     69","    116","    267","    378","    245","    275","     46","    234","     11","    268","    310","    124","     -8","    310","    234","    315","    387","     43","    416","    340","    231","     11","   -108","   -105","    252","    137","     94","    105","    268","    135","    -86","   -223","    -19","   -114","    -42","   -113","   -199","   -415","   -331","   -124","    -89","     66","     58","     43","     41","     36","      6","     39","    -43","     -5","    -40","   -101","    143","   -308","   -108","    -48","    -17","    -30","    -44","    -93","     57","    126","     57","      1","    112","     21","    308","    288","    248","    112","     32","    144","     96","    337","    112","    157","    146","    262","    110","    274","     78","    146","    207","    169","    -35","     56","    215","    108","    193","    243","    211","    138","     75","    121","    113","    128","     51","     92","    132","    167","    111","     97","    180","     88","    157","    132","     92","     -4","    110","    166","     94","     18","    -17","    -63","    -80","    -20","    -49","    -62","    -51","    -84","   -159","   -240","   -533","   -524","   -598","   -651","   -663","   -539","   -345","   -467","   -247","   -216","   -263","   -190","    -11","    -85","    -20","    -36","    162","    290","    431","   -125","   -131","    -54","    -95","    151","     39","    103","     36","    192","    216","    244","     54","     18","    117","      0","    103","     80","    120","    200","    243","    227","    120","    115","     69","     80","    163","     96","    114","    171","    146","    155","    157","    236","     88","    165","    175","    195","    162","    169","    148","    204","    203","     74","    113","    175","    192","    288","    217","    288","    209","    142","    248","    214","    321","    252","    257","    295","    126","    223","    280","    223","    215","    173","    142","    271","    211","    292","    151","    242","    215","    160","     38","    287","    255","    151","    156","    161","    178","    156","    227","    235","     98","    211","    138","    222","    209","    156","    -33","    261","    228","    148","    200","    313","    103","    164","    223","    213","    157","    201","    134","    250","    155","    312","    304","     20","    196","    263","     75","    224","    164","    130","    136","    128","    266","    145","    225","    273","   -701","-20,537","  2,509","  4,800","  1,763","  1,371","    661","    638","    245","   -140","     49","    379","    916","    266","    559","    850","    943","    235","    194","    531","    210","    199","    467","    678","    431","    428","    390","    372","    528","    315","    263","    261","    263","    223","    517","    311","    236","    253","    339","    209","    187","    187","    336","    150","    199","    216","    353","    275","    303","    175","    272","    206","    114","    142","    254","     12","    227","    256","    143","    151","    228","    177","    139","    147"],["    243","    294","    445","    -15","    291","    225","     87","     49","     41","    179","    118","    141","    411","    193","    -26","   -193","   -483","   -421","   -180","    275","    242","    326","    251","    164","    356","    171","     53","    111","    106","     51","    265","     21","    132","   -201","   -310","   -409","   -234","    140","   -155","   -221","     83","   -327","   -304","   -223","    -45","   -407","   -110","   -185","    355","   -161","     69","    287","    320","    423","    308","   -417","  1,116","    236","    268","    244","    331","    427","    212","    391","    319","    367","    215","    173","    284","    347","    340","    187","    364","    116","    319","    210","    301","     52","    234","    270","    240","    342","    242","    285","    410","    160","     55","    299","    135","    -75","    262","    178","    277","    266","    242","    254","    304","    228","    179","    269","    110","    110","    308","    149","    159","    549","    302","    327","    215","    538","    291","    261","    208","    568","    214","    154","    312","    236","    446","    222","    424","    276","    177","    213","    209","    297","    160","    120","    209","     75","    281","    118","    361","    373","    123","    -26","    369","    212","    -89","   -127","     -1","   -180","   -267","   -161","   -191","   -286","   -258","   -166","    151","     -2","    -26","    112","     95","      7","   -230","     39","   -122","    106","     58","    177","    119","    -73","    171","   -109","     12","     74","     75","    106","    113","    338","     26","    255","    238","     43","    237","    -33","    197","    162","    216","    230","    -31","    278","    379","    401","    252","    383","    290","    290","    272","    162","    534","    231","    169","    355","    179","      8","    -62","    299","     28","    263","     94","     68","    212","    145","   -146","    631","    158","    191","    407","    219","    235","    263","     -2","    261","    181","    231","    259","    314","    182","    327","    163","    222","    384","     52","    300","    291","    429","    354","    399","    259","     82","    320","    328","    189","    118","    322","    172","    164","    277","    314","    217","    335","     83","    321","     28","    281","    373","    129","    103","    284","    257","    309","    394","     27","    527","    410","    171","     57","    -40","    -79","    195","     66","     53","     36","    289","    136","     59","   -165","     41","    -99","     18","    -54","   -165","   -448","   -355","   -106","   -109","     -4","     -5","    -21","     22","     34","     54","    123","    -84","     69","    -81","   -147","    203","   -353","      0","      0","    -76","    -83","    -57","     35","     99","    100","     83","      8","    159","     83","    353","    324","    208","     96","     85","    198","    119","    312","    132","    155","    124","    300","    122","    292","    126","    175","    277","    148","     17","     25","    354","    145","    154","    200","    175","    112","    100","    134","    123","    230","    203","     86","    196","    226","    162","     90","    175","    122","    188","     69","     93","     93","     44","    159","     60","     41","    -76","    -83","    -88","    -67","    -47","   -100","    -67","   -127","   -403","   -423","   -597","   -681","   -741","   -681","   -652","   -519","   -303","   -463","   -304","   -154","   -139","   -127","     64","   -109","     14","     39","    208","    313","    432","   -175","    -66","     -1","    -24","    210","     93","    152","     68","    235","    194","    217","     53","     20","    127","    104","    210","    112","    157","    223","    275","    259","    143","     68","     87","     45","    181","    192","    132","    137","    247","    219","    148","    332","    142","    199","    176","    172","     89","    238","    175","    200","    274","     84","    144","    222","    203","    304","    229","    267","    243","    203","    271","    261","    423","    329","    201","    266","    119","    187","    260","    245","    223","    153","    145","    307","    280","    271","    168","    233","    186","    144","     24","    271","    252","    176","    208","    135","    164","    155","    216","    232","     50","    207","    145","    210","    138","    208","     38","    211","    216","    175","    176","    324","    155","    175","    268","    208","    165","    286","    119","    274","    196","    227","    312","     56","    153","    216","     62","    178","    166","    219","    193","    152","    261","    184","    214","    251"," -1,373","-20,787","  2,725","  4,781","  1,761","  1,493","    711","    654","    264","   -306","    233","    536","    785","    269","    614","    962","  1,091","    483","    379","    648","    647","    588","    504","    714","    398","    368","    386","    293","    537","    292","    269","    263","    290","    239","    472","    248","    217","    217","    281","    105","    236","    165","    262","    105","    182","    290","    256","    236","    310","    108","    216","    118","    144","     78","    255","     43","    261","    323","    111","    102","    120","    158","     19","    -13"],[" -82","  -7"," 121"," -87"," 120"," 128","  43","  47"," -94","-127","-100","-176"," 106","  52"," 114"," 286","-303","  93","  58","  74","  55","  69"," -17"," -41"," -18"," 120","  52"," 331"," 122","  65","-118"," -40"," 186","   4"," -73","-116","   3","  43","  63"," -54"," 107","-186","-287"," -12"," 185","-144","  53"," -19","  16","  19"," -50","  29"," -54","  79","-179","  -6"," 383"," -84","-102","  13","  44","  41","  69"," -16","  87","  66"," -87","  14"," 145"," -94","  37","-122","  16","  -3"," -62","  -7"," -44"," -28","  -9"," -18"," 112"," -72","  60"," -35","-156"," -66","-137","  93"," -14","  14","-127"," -24"," 170"," -32","  -7"," -15","-144","-109","  15"," -47"," -13","  -6","   4","  -7","  27","   0","  28","   1"," 108","   7","  29","  87","  -1"," 222"," -69"," -65","  57"," -87"," -17"," -57","  16"," -13","  -3","  96"," 108"," 117","  -9","  10","   0","-158","  71"," -24","  86","   1","  97"," -90"," 205"," 172"," 130"," -52"," 100","-112","   0"," -85","  41","-102"," -52"," -42","  92","  48","  25","  78","  71","   8","  11","   8"," -31"," -58","  39","  51","  51","  44"," -27"," -26","  69","  47"," -30","  42","   7"," -27","  48"," 136","  29","  30","  75","   6","  41"," -15","   8","  47"," -93","  61"," -77"," 134","  61","   4","  31"," 111","  33"," -32"," 184"," -25","  35","  37"," -24","  17","  39","  84"," -27","  14"," -27"," -48","  46","  -6","  55"," -74","  18"," 189","  59"," -20","  42","  13","  38","  51","  63"," -31"," -12"," -25","   7"," 185","  25","   5","  68","   3","  85","   7","  25"," -16","  41"," -51"," 118","  58","  32"," -16","  52"," -43"," 103","  48","  10"," -64"," -28","  60","  37","  87","  17","  13","  63","   5"," 111"," -26","  23","  -6","   7"," -16"," 111","  70"," -60","  46","  68","  26"," -57"," -71"," -41"," -69","  21","   1"," 145","  58","  60","  15","  60","  59","  34"," -33"," -24","  18"," -20"," -70"," -63"," -64"," -19","  -2","  48","  84"," -41","  74"," -41"," -46","  60"," -45"," 108","  48"," -59"," -53"," -13"," 128","  42"," -26","  26","   7","  47","  62","  45","  36"," -40"," -16","  53","  54","  23"," -25","  20","  -2"," -22","  38","  12","  18","  48","  29","  70"," -21","  52"," -31"," 139","  37"," -39"," -43"," -36"," -26","  25","  13","  10"," 102"," 152","  -6","  64","  59","  51","  -7","  -5","  34","  31"," -63","   1","  97"," -66","  -7"," -34","  23"," -59"," -20","  -8"," -47","   2"," -38"," -16"," -43","-244","-183"," -64","-157","-143"," -30","  11","  20","  42","   4"," -57","  62"," 124","  63","  75"," -24","  34","  75","  46","  23","   1"," -50","  65","  53","  71","  59","  54","  49","  32","  43"," -22"," -27","  -1","   2","  10"," 104"," 107","  32","  37","  23","  32","  32","  23"," -47","  18"," -35","  18","  96","  18"," -34"," 101","  64","  -9","  96","  54","  34","   1"," -23"," -73","  69","  27","  -4","  71","  10","  31","  47","  11","  16","  12"," -21","  34","  61","  23","  47"," 102","  77"," -56"," -29","  -7"," -36"," -20","  22","   8"," -20","   3","  36","  69"," -21","  17","  -9"," -29"," -16"," -14"," -16","  -3","  25","  52"," -26"," -14","  -1"," -11","  -3"," -48","  -4","   7"," -12"," -71","  52","  71"," -50"," -12","  27"," -24","  11","  52","  11","  45","  -5","   8","  85"," -15","  24","  41"," -85","   8","  36"," -43"," -47"," -13"," -46","   2","  89","  57","  24","  -5","  39"," -11"," -22","-672","-250"," 216"," -19","  -2"," 122","  50","  16","  19","-166"," 184"," 157","-131","   3","  55"," 112"," 148"," 248"," 185"," 117"," 437"," 389","  37","  36"," -33"," -60","  -4"," -79","   9"," -23","   6","   2","  27","  16"," -45"," -63"," -19"," -36"," -58","-104","  49"," -22"," -74"," -45"," -17","  74"," -97"," -39","   7"," -67"," -56"," -88","  30"," -64","   1","  31","  34","  67"," -32"," -49","-108"," -19","-120","-160"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Date<\/th>\n      <th>Original<\/th>\n      <th>Final<\/th>\n      <th>Revision<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,25,50,100],"order":[[0,"desc"]],"dom":"lfrtip","columnDefs":[{"name":"Date","targets":0},{"name":"Original","targets":1},{"name":"Final","targets":2},{"name":"Revision","targets":3}],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="exploratory-analysis" class="level1">
<h1>Exploratory Analysis</h1>
<p>From here, we will combine these two tables from BLS and perform analysis. The code chunk below creates a join</p>
<div class="cell">
<details class="code-fold">
<summary>show table join</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#load packages</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># join the two tables together</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>ces_combined <span class="ot">&lt;-</span> ces_data <span class="sc">|&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(ces_revisions, <span class="at">by =</span> <span class="st">"date"</span>) <span class="sc">|&gt;</span>  <span class="co"># simplified join syntax</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date), <span class="co">#convert to date</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_name =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">decade =</span> <span class="fu">floor</span>(year <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate relative metrics</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">revision_pct =</span> (revision <span class="sc">/</span> final) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_revision =</span> <span class="fu">abs</span>(revision), <span class="co">#absolute</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_revision_pct =</span> <span class="fu">abs</span>(abs_revision <span class="sc">/</span> final) <span class="sc">*</span> <span class="dv">100</span>, <span class="co">#absolute percentage</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">revision_as_pct_employment =</span> (abs_revision <span class="sc">/</span> level) <span class="sc">*</span> <span class="dv">100</span>, <span class="co">#$revision</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">is_positive_revision =</span> revision <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co"># display in a datatable</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>ces_combined <span class="sc">|&gt;</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, level, original, final, revision, revision_pct, abs_revision_pct) <span class="sc">|&gt;</span>  <span class="co"># select specific columns</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">format</span>(date, <span class="st">"%Y-%m"</span>), <span class="co">#format date</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Employment Level</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(level, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="co">#format with commas</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Original Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(original, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Final Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(final, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(revision, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Revision %</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(revision_pct, <span class="dv">2</span>),</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Absolute Revision %</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(abs_revision_pct, <span class="dv">2</span>)</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date, <span class="st">`</span><span class="at">Employment Level</span><span class="st">`</span>, <span class="st">`</span><span class="at">Original Estimate</span><span class="st">`</span>, <span class="st">`</span><span class="at">Final Estimate</span><span class="st">`</span>,  <span class="co">#keep these columns for table</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Revision</span><span class="st">`</span>, <span class="st">`</span><span class="at">Revision %</span><span class="st">`</span>, <span class="st">`</span><span class="at">Absolute Revision %</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">pageLength =</span> <span class="dv">10</span>, <span class="co">#10 rows</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">lengthMenu =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">100</span>),</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">order =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">0</span>, <span class="st">'desc'</span>)),</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"CES Total Nonfarm Employment and Revisions (thousands)"</span>,  <span class="co">#title</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> <span class="st">'top'</span>,</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">class =</span> <span class="st">'display'</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f7fda336434fa95952b6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f7fda336434fa95952b6">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\" disabled=\"\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"1\" data-scale=\"2\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\" disabled=\"\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"1\" data-scale=\"2\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>CES Total Nonfarm Employment and Revisions (thousands)<\/caption>","data":[["1979-01","1979-02","1979-03","1979-04","1979-05","1979-06","1979-07","1979-08","1979-09","1979-10","1979-11","1979-12","1980-01","1980-02","1980-03","1980-04","1980-05","1980-06","1980-07","1980-08","1980-09","1980-10","1980-11","1980-12","1981-01","1981-02","1981-03","1981-04","1981-05","1981-06","1981-07","1981-08","1981-09","1981-10","1981-11","1981-12","1982-01","1982-02","1982-03","1982-04","1982-05","1982-06","1982-07","1982-08","1982-09","1982-10","1982-11","1982-12","1983-01","1983-02","1983-03","1983-04","1983-05","1983-06","1983-07","1983-08","1983-09","1983-10","1983-11","1983-12","1984-01","1984-02","1984-03","1984-04","1984-05","1984-06","1984-07","1984-08","1984-09","1984-10","1984-11","1984-12","1985-01","1985-02","1985-03","1985-04","1985-05","1985-06","1985-07","1985-08","1985-09","1985-10","1985-11","1985-12","1986-01","1986-02","1986-03","1986-04","1986-05","1986-06","1986-07","1986-08","1986-09","1986-10","1986-11","1986-12","1987-01","1987-02","1987-03","1987-04","1987-05","1987-06","1987-07","1987-08","1987-09","1987-10","1987-11","1987-12","1988-01","1988-02","1988-03","1988-04","1988-05","1988-06","1988-07","1988-08","1988-09","1988-10","1988-11","1988-12","1989-01","1989-02","1989-03","1989-04","1989-05","1989-06","1989-07","1989-08","1989-09","1989-10","1989-11","1989-12","1990-01","1990-02","1990-03","1990-04","1990-05","1990-06","1990-07","1990-08","1990-09","1990-10","1990-11","1990-12","1991-01","1991-02","1991-03","1991-04","1991-05","1991-06","1991-07","1991-08","1991-09","1991-10","1991-11","1991-12","1992-01","1992-02","1992-03","1992-04","1992-05","1992-06","1992-07","1992-08","1992-09","1992-10","1992-11","1992-12","1993-01","1993-02","1993-03","1993-04","1993-05","1993-06","1993-07","1993-08","1993-09","1993-10","1993-11","1993-12","1994-01","1994-02","1994-03","1994-04","1994-05","1994-06","1994-07","1994-08","1994-09","1994-10","1994-11","1994-12","1995-01","1995-02","1995-03","1995-04","1995-05","1995-06","1995-07","1995-08","1995-09","1995-10","1995-11","1995-12","1996-01","1996-02","1996-03","1996-04","1996-05","1996-06","1996-07","1996-08","1996-09","1996-10","1996-11","1996-12","1997-01","1997-02","1997-03","1997-04","1997-05","1997-06","1997-07","1997-08","1997-09","1997-10","1997-11","1997-12","1998-01","1998-02","1998-03","1998-04","1998-05","1998-06","1998-07","1998-08","1998-09","1998-10","1998-11","1998-12","1999-01","1999-02","1999-03","1999-04","1999-05","1999-06","1999-07","1999-08","1999-09","1999-10","1999-11","1999-12","2000-01","2000-02","2000-03","2000-04","2000-05","2000-06","2000-07","2000-08","2000-09","2000-10","2000-11","2000-12","2001-01","2001-02","2001-03","2001-04","2001-05","2001-06","2001-07","2001-08","2001-09","2001-10","2001-11","2001-12","2002-01","2002-02","2002-03","2002-04","2002-05","2002-06","2002-07","2002-08","2002-09","2002-10","2002-11","2002-12","2003-01","2003-02","2003-03","2003-04","2003-05","2003-06","2003-07","2003-08","2003-09","2003-10","2003-11","2003-12","2004-01","2004-02","2004-03","2004-04","2004-05","2004-06","2004-07","2004-08","2004-09","2004-10","2004-11","2004-12","2005-01","2005-02","2005-03","2005-04","2005-05","2005-06","2005-07","2005-08","2005-09","2005-10","2005-11","2005-12","2006-01","2006-02","2006-03","2006-04","2006-05","2006-06","2006-07","2006-08","2006-09","2006-10","2006-11","2006-12","2007-01","2007-02","2007-03","2007-04","2007-05","2007-06","2007-07","2007-08","2007-09","2007-10","2007-11","2007-12","2008-01","2008-02","2008-03","2008-04","2008-05","2008-06","2008-07","2008-08","2008-09","2008-10","2008-11","2008-12","2009-01","2009-02","2009-03","2009-04","2009-05","2009-06","2009-07","2009-08","2009-09","2009-10","2009-11","2009-12","2010-01","2010-02","2010-03","2010-04","2010-05","2010-06","2010-07","2010-08","2010-09","2010-10","2010-11","2010-12","2011-01","2011-02","2011-03","2011-04","2011-05","2011-06","2011-07","2011-08","2011-09","2011-10","2011-11","2011-12","2012-01","2012-02","2012-03","2012-04","2012-05","2012-06","2012-07","2012-08","2012-09","2012-10","2012-11","2012-12","2013-01","2013-02","2013-03","2013-04","2013-05","2013-06","2013-07","2013-08","2013-09","2013-10","2013-11","2013-12","2014-01","2014-02","2014-03","2014-04","2014-05","2014-06","2014-07","2014-08","2014-09","2014-10","2014-11","2014-12","2015-01","2015-02","2015-03","2015-04","2015-05","2015-06","2015-07","2015-08","2015-09","2015-10","2015-11","2015-12","2016-01","2016-02","2016-03","2016-04","2016-05","2016-06","2016-07","2016-08","2016-09","2016-10","2016-11","2016-12","2017-01","2017-02","2017-03","2017-04","2017-05","2017-06","2017-07","2017-08","2017-09","2017-10","2017-11","2017-12","2018-01","2018-02","2018-03","2018-04","2018-05","2018-06","2018-07","2018-08","2018-09","2018-10","2018-11","2018-12","2019-01","2019-02","2019-03","2019-04","2019-05","2019-06","2019-07","2019-08","2019-09","2019-10","2019-11","2019-12","2020-01","2020-02","2020-03","2020-04","2020-05","2020-06","2020-07","2020-08","2020-09","2020-10","2020-11","2020-12","2021-01","2021-02","2021-03","2021-04","2021-05","2021-06","2021-07","2021-08","2021-09","2021-10","2021-11","2021-12","2022-01","2022-02","2022-03","2022-04","2022-05","2022-06","2022-07","2022-08","2022-09","2022-10","2022-11","2022-12","2023-01","2023-02","2023-03","2023-04","2023-05","2023-06","2023-07","2023-08","2023-09","2023-10","2023-11","2023-12","2024-01","2024-02","2024-03","2024-04","2024-05","2024-06","2024-07","2024-08","2024-09","2024-10","2024-11","2024-12","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06"],[" 88,808"," 89,055"," 89,479"," 89,417"," 89,789"," 90,108"," 90,217"," 90,300"," 90,327"," 90,481"," 90,573"," 90,672"," 90,800"," 90,883"," 90,994"," 90,849"," 90,420"," 90,101"," 89,840"," 90,099"," 90,213"," 90,490"," 90,747"," 90,943"," 91,033"," 91,105"," 91,210"," 91,283"," 91,296"," 91,490"," 91,601"," 91,565"," 91,477"," 91,380"," 91,171"," 90,895"," 90,565"," 90,563"," 90,434"," 90,150"," 90,107"," 89,865"," 89,521"," 89,363"," 89,183"," 88,907"," 88,786"," 88,771"," 88,990"," 88,917"," 89,090"," 89,364"," 89,644"," 90,021"," 90,437"," 90,129"," 91,247"," 91,520"," 91,875"," 92,230"," 92,673"," 93,157"," 93,429"," 93,792"," 94,098"," 94,479"," 94,789"," 95,032"," 95,344"," 95,629"," 95,982"," 96,107"," 96,372"," 96,503"," 96,842"," 97,038"," 97,312"," 97,459"," 97,648"," 97,840"," 98,045"," 98,233"," 98,443"," 98,609"," 98,732"," 98,847"," 98,934"," 99,121"," 99,248"," 99,155"," 99,473"," 99,588"," 99,934","100,121","100,308","100,509","100,678","100,919","101,164","101,499","101,728","101,900","102,247","102,420","102,647","103,138","103,372","103,661","103,753","104,214","104,489","104,732","104,962","105,326","105,550","105,674","106,013","106,276","106,617","106,898","107,161","107,427","107,621","107,791","107,913","108,027","108,069","108,120","108,369","108,476","108,752","108,836","109,196","109,436","109,640","109,674","109,828","109,850","109,815","109,606","109,523","109,377","109,222","109,168","109,058","108,735","108,568","108,350","108,253","108,330","108,290","108,299","108,335","108,361","108,300","108,330","108,365","108,313","108,367","108,517","108,647","108,707","108,792","108,916","108,952","109,138","109,283","109,502","109,790","110,048","110,004","110,300","110,571","110,742","111,054","111,200","111,449","111,734","111,988","112,324","112,601","112,782","113,245","113,589","113,922","114,239","114,608","114,903","115,247","115,457","115,868","116,173","116,505","116,694","116,908","117,065","117,047","117,291","117,382","117,646","117,873","118,026","118,165","118,325","118,317","118,737","118,992","119,158","119,496","119,770","120,019","120,198","120,400","120,665","120,947","121,143","121,357","121,674","121,991","122,288","122,560","122,816","123,114","123,086","123,575","123,924","124,226","124,549","124,806","125,017","125,165","125,446","125,846","126,076","126,211","126,546","126,744","126,948","127,223","127,595","127,699","128,118","128,234","128,596","128,813","129,084","129,421","129,572","129,772","130,178","130,467","130,783","131,011","131,121","131,604","131,883","132,105","132,062","132,228","132,234","132,338","132,352","132,556","132,716","132,703","132,788","132,751","132,457","132,409","132,299","132,171","132,021","131,763","131,452","131,144","130,983","130,859","130,736","130,722","130,615","130,632","130,673","130,583","130,582","130,503","130,617","130,616","130,465","130,573","130,441","130,235","130,172","130,196","130,185","130,184","130,153","130,253","130,440","130,481","130,589","130,756","130,820","131,139","131,412","131,697","131,794","131,853","131,940","132,091","132,431","132,504","132,629","132,781","133,033","133,152","133,519","133,689","133,947","134,300","134,503","134,554","134,643","134,999","135,158","135,426","135,731","136,036","136,208","136,249","136,335","136,529","136,693","136,829","136,846","137,061","137,249","137,472","137,558","137,782","137,845","137,993","138,069","138,044","138,013","138,101","138,177","138,291","138,395","138,391","138,327","138,257","138,038","137,851","137,698","137,498","137,211","136,762","136,293","135,543","134,847","134,078","133,317","132,492","131,821","131,468","131,007","130,662","130,472","130,247","130,062","130,058","129,808","129,802","129,705","129,865","130,120","130,643","130,509","130,415","130,416","130,342","130,621","130,749","130,830","130,837","131,056","131,282","131,597","131,704","131,931","131,993","132,125","132,344","132,553","132,690","132,888","133,245","133,508","133,748","133,825","133,933","134,012","134,157","134,338","134,517","134,668","134,825","135,074","135,257","135,545","135,689","135,873","136,095","136,279","136,391","136,646","136,821","137,041","137,316","137,373","137,561","137,712","137,985","138,297","138,512","138,849","139,073","139,269","139,563","139,797","140,090","140,364","140,568","140,827","140,923","141,196","141,538","141,709","141,991","142,125","142,275","142,579","142,808","143,077","143,210","143,407","143,662","143,855","143,900","144,146","144,520","144,662","144,967","145,066","145,183","145,408","145,628","145,848","145,969","146,174","146,380","146,583","146,772","146,919","147,007","147,150","147,373","147,523","147,660","148,054","148,280","148,422","148,740","148,959","149,020","149,279","149,358","149,526","149,617","149,809","150,059","150,065","150,295","150,593","150,621","150,839","150,936","151,171","151,365","151,460","151,668","151,795","152,031","152,292","150,895","130,424","133,040","137,671","139,255","140,819","141,770","142,461","142,731","142,548","142,913","143,422","144,246","144,611","145,032","145,828","146,759","147,246","147,712","148,569","149,206","149,781","150,006","150,875","151,346","151,651","151,892","152,353","153,049","153,286","153,513","153,913","154,210","154,336","154,780","155,086","155,171","155,387","155,614","155,871","156,019","156,176","156,334","156,520","156,661","156,930","157,049","157,271","157,517","157,635","157,828","157,915","158,003","158,074","158,314","158,358","158,619","158,942","159,053","159,155","159,275","159,433","159,452","159,439"],["    325","    301","    324","     72","    171","     97","     44","      2","    135","    306","    218","    317","    305","    141","   -140","   -479","   -180","   -514","   -238","    201","    187","    257","    268","    205","    374","     51","      1","   -220","    -16","    -14","    383","     61","    -54","   -205","   -237","   -293","   -237","     97","   -218","   -167","    -24","   -141","    -17","   -211","   -230","   -263","   -163","   -166","    339","   -180","    119","    258","    374","    344","    487","   -411","    733","    320","    370","    231","    287","    386","    143","    407","    232","    301","    302","    159","    139","    441","    303","    309","    348","    119","    381","    217","    345","     80","    243","    288","    128","    414","    182","    320","    566","    226","    192","    206","    149","    -89","    389","    202","    107","    298","    249","    269","    448","    337","    164","    316","    123","    116","    304","    156","    132","    549","    274","    326","    107","    531","    262","    174","    209","    346","    283","    219","    255","    323","    463","    279","    408","    289","    180","    117","    101","    180","    169","    110","    209","    233","    210","    142","    275","    372","     26","     64","    164","     40","   -219","    -75","   -101","    -68","   -267","    -76","   -232","   -184","   -206","   -124","     59","    -50","    -51","     34","     24","     -1","   -241","     31","    -91","    164","     19","    126","     68","   -117","    198","    -83","    -57","     27","    105","     64","    106","    365","    -22","    119","    209","     13","    162","    -39","    156","    177","    208","    183","     62","    217","    456","    267","    191","    379","    259","    179","    239","    194","    350","    256","    134","    318","    203","     -9","   -101","    215","     55","    249","    121","    116","    166","    151","   -201","    705","    140","      2","    348","    239","    193","    250","    -40","    210","    118","    262","    271","    339","    175","    142","    138","    217","    316","     49","    215","    284","    404","    370","    358","    310","    -36","    262","    296","    205","     66","    365","     69","    116","    267","    378","    245","    275","     46","    234","     11","    268","    310","    124","     -8","    310","    234","    315","    387","     43","    416","    340","    231","     11","   -108","   -105","    252","    137","     94","    105","    268","    135","    -86","   -223","    -19","   -114","    -42","   -113","   -199","   -415","   -331","   -124","    -89","     66","     58","     43","     41","     36","      6","     39","    -43","     -5","    -40","   -101","    143","   -308","   -108","    -48","    -17","    -30","    -44","    -93","     57","    126","     57","      1","    112","     21","    308","    288","    248","    112","     32","    144","     96","    337","    112","    157","    146","    262","    110","    274","     78","    146","    207","    169","    -35","     56","    215","    108","    193","    243","    211","    138","     75","    121","    113","    128","     51","     92","    132","    167","    111","     97","    180","     88","    157","    132","     92","     -4","    110","    166","     94","     18","    -17","    -63","    -80","    -20","    -49","    -62","    -51","    -84","   -159","   -240","   -533","   -524","   -598","   -651","   -663","   -539","   -345","   -467","   -247","   -216","   -263","   -190","    -11","    -85","    -20","    -36","    162","    290","    431","   -125","   -131","    -54","    -95","    151","     39","    103","     36","    192","    216","    244","     54","     18","    117","      0","    103","     80","    120","    200","    243","    227","    120","    115","     69","     80","    163","     96","    114","    171","    146","    155","    157","    236","     88","    165","    175","    195","    162","    169","    148","    204","    203","     74","    113","    175","    192","    288","    217","    288","    209","    142","    248","    214","    321","    252","    257","    295","    126","    223","    280","    223","    215","    173","    142","    271","    211","    292","    151","    242","    215","    160","     38","    287","    255","    151","    156","    161","    178","    156","    227","    235","     98","    211","    138","    222","    209","    156","    -33","    261","    228","    148","    200","    313","    103","    164","    223","    213","    157","    201","    134","    250","    155","    312","    304","     20","    196","    263","     75","    224","    164","    130","    136","    128","    266","    145","    225","    273","   -701","-20,537","  2,509","  4,800","  1,763","  1,371","    661","    638","    245","   -140","     49","    379","    916","    266","    559","    850","    943","    235","    194","    531","    210","    199","    467","    678","    431","    428","    390","    372","    528","    315","    263","    261","    263","    223","    517","    311","    236","    253","    339","    209","    187","    187","    336","    150","    199","    216","    353","    275","    303","    175","    272","    206","    114","    142","    254","     12","    227","    256","    143","    151","    228","    177","    139","    147"],["    243","    294","    445","    -15","    291","    225","     87","     49","     41","    179","    118","    141","    411","    193","    -26","   -193","   -483","   -421","   -180","    275","    242","    326","    251","    164","    356","    171","     53","    111","    106","     51","    265","     21","    132","   -201","   -310","   -409","   -234","    140","   -155","   -221","     83","   -327","   -304","   -223","    -45","   -407","   -110","   -185","    355","   -161","     69","    287","    320","    423","    308","   -417","  1,116","    236","    268","    244","    331","    427","    212","    391","    319","    367","    215","    173","    284","    347","    340","    187","    364","    116","    319","    210","    301","     52","    234","    270","    240","    342","    242","    285","    410","    160","     55","    299","    135","    -75","    262","    178","    277","    266","    242","    254","    304","    228","    179","    269","    110","    110","    308","    149","    159","    549","    302","    327","    215","    538","    291","    261","    208","    568","    214","    154","    312","    236","    446","    222","    424","    276","    177","    213","    209","    297","    160","    120","    209","     75","    281","    118","    361","    373","    123","    -26","    369","    212","    -89","   -127","     -1","   -180","   -267","   -161","   -191","   -286","   -258","   -166","    151","     -2","    -26","    112","     95","      7","   -230","     39","   -122","    106","     58","    177","    119","    -73","    171","   -109","     12","     74","     75","    106","    113","    338","     26","    255","    238","     43","    237","    -33","    197","    162","    216","    230","    -31","    278","    379","    401","    252","    383","    290","    290","    272","    162","    534","    231","    169","    355","    179","      8","    -62","    299","     28","    263","     94","     68","    212","    145","   -146","    631","    158","    191","    407","    219","    235","    263","     -2","    261","    181","    231","    259","    314","    182","    327","    163","    222","    384","     52","    300","    291","    429","    354","    399","    259","     82","    320","    328","    189","    118","    322","    172","    164","    277","    314","    217","    335","     83","    321","     28","    281","    373","    129","    103","    284","    257","    309","    394","     27","    527","    410","    171","     57","    -40","    -79","    195","     66","     53","     36","    289","    136","     59","   -165","     41","    -99","     18","    -54","   -165","   -448","   -355","   -106","   -109","     -4","     -5","    -21","     22","     34","     54","    123","    -84","     69","    -81","   -147","    203","   -353","      0","      0","    -76","    -83","    -57","     35","     99","    100","     83","      8","    159","     83","    353","    324","    208","     96","     85","    198","    119","    312","    132","    155","    124","    300","    122","    292","    126","    175","    277","    148","     17","     25","    354","    145","    154","    200","    175","    112","    100","    134","    123","    230","    203","     86","    196","    226","    162","     90","    175","    122","    188","     69","     93","     93","     44","    159","     60","     41","    -76","    -83","    -88","    -67","    -47","   -100","    -67","   -127","   -403","   -423","   -597","   -681","   -741","   -681","   -652","   -519","   -303","   -463","   -304","   -154","   -139","   -127","     64","   -109","     14","     39","    208","    313","    432","   -175","    -66","     -1","    -24","    210","     93","    152","     68","    235","    194","    217","     53","     20","    127","    104","    210","    112","    157","    223","    275","    259","    143","     68","     87","     45","    181","    192","    132","    137","    247","    219","    148","    332","    142","    199","    176","    172","     89","    238","    175","    200","    274","     84","    144","    222","    203","    304","    229","    267","    243","    203","    271","    261","    423","    329","    201","    266","    119","    187","    260","    245","    223","    153","    145","    307","    280","    271","    168","    233","    186","    144","     24","    271","    252","    176","    208","    135","    164","    155","    216","    232","     50","    207","    145","    210","    138","    208","     38","    211","    216","    175","    176","    324","    155","    175","    268","    208","    165","    286","    119","    274","    196","    227","    312","     56","    153","    216","     62","    178","    166","    219","    193","    152","    261","    184","    214","    251"," -1,373","-20,787","  2,725","  4,781","  1,761","  1,493","    711","    654","    264","   -306","    233","    536","    785","    269","    614","    962","  1,091","    483","    379","    648","    647","    588","    504","    714","    398","    368","    386","    293","    537","    292","    269","    263","    290","    239","    472","    248","    217","    217","    281","    105","    236","    165","    262","    105","    182","    290","    256","    236","    310","    108","    216","    118","    144","     78","    255","     43","    261","    323","    111","    102","    120","    158","     19","    -13"],[" -82","  -7"," 121"," -87"," 120"," 128","  43","  47"," -94","-127","-100","-176"," 106","  52"," 114"," 286","-303","  93","  58","  74","  55","  69"," -17"," -41"," -18"," 120","  52"," 331"," 122","  65","-118"," -40"," 186","   4"," -73","-116","   3","  43","  63"," -54"," 107","-186","-287"," -12"," 185","-144","  53"," -19","  16","  19"," -50","  29"," -54","  79","-179","  -6"," 383"," -84","-102","  13","  44","  41","  69"," -16","  87","  66"," -87","  14"," 145"," -94","  37","-122","  16","  -3"," -62","  -7"," -44"," -28","  -9"," -18"," 112"," -72","  60"," -35","-156"," -66","-137","  93"," -14","  14","-127"," -24"," 170"," -32","  -7"," -15","-144","-109","  15"," -47"," -13","  -6","   4","  -7","  27","   0","  28","   1"," 108","   7","  29","  87","  -1"," 222"," -69"," -65","  57"," -87"," -17"," -57","  16"," -13","  -3","  96"," 108"," 117","  -9","  10","   0","-158","  71"," -24","  86","   1","  97"," -90"," 205"," 172"," 130"," -52"," 100","-112","   0"," -85","  41","-102"," -52"," -42","  92","  48","  25","  78","  71","   8","  11","   8"," -31"," -58","  39","  51","  51","  44"," -27"," -26","  69","  47"," -30","  42","   7"," -27","  48"," 136","  29","  30","  75","   6","  41"," -15","   8","  47"," -93","  61"," -77"," 134","  61","   4","  31"," 111","  33"," -32"," 184"," -25","  35","  37"," -24","  17","  39","  84"," -27","  14"," -27"," -48","  46","  -6","  55"," -74","  18"," 189","  59"," -20","  42","  13","  38","  51","  63"," -31"," -12"," -25","   7"," 185","  25","   5","  68","   3","  85","   7","  25"," -16","  41"," -51"," 118","  58","  32"," -16","  52"," -43"," 103","  48","  10"," -64"," -28","  60","  37","  87","  17","  13","  63","   5"," 111"," -26","  23","  -6","   7"," -16"," 111","  70"," -60","  46","  68","  26"," -57"," -71"," -41"," -69","  21","   1"," 145","  58","  60","  15","  60","  59","  34"," -33"," -24","  18"," -20"," -70"," -63"," -64"," -19","  -2","  48","  84"," -41","  74"," -41"," -46","  60"," -45"," 108","  48"," -59"," -53"," -13"," 128","  42"," -26","  26","   7","  47","  62","  45","  36"," -40"," -16","  53","  54","  23"," -25","  20","  -2"," -22","  38","  12","  18","  48","  29","  70"," -21","  52"," -31"," 139","  37"," -39"," -43"," -36"," -26","  25","  13","  10"," 102"," 152","  -6","  64","  59","  51","  -7","  -5","  34","  31"," -63","   1","  97"," -66","  -7"," -34","  23"," -59"," -20","  -8"," -47","   2"," -38"," -16"," -43","-244","-183"," -64","-157","-143"," -30","  11","  20","  42","   4"," -57","  62"," 124","  63","  75"," -24","  34","  75","  46","  23","   1"," -50","  65","  53","  71","  59","  54","  49","  32","  43"," -22"," -27","  -1","   2","  10"," 104"," 107","  32","  37","  23","  32","  32","  23"," -47","  18"," -35","  18","  96","  18"," -34"," 101","  64","  -9","  96","  54","  34","   1"," -23"," -73","  69","  27","  -4","  71","  10","  31","  47","  11","  16","  12"," -21","  34","  61","  23","  47"," 102","  77"," -56"," -29","  -7"," -36"," -20","  22","   8"," -20","   3","  36","  69"," -21","  17","  -9"," -29"," -16"," -14"," -16","  -3","  25","  52"," -26"," -14","  -1"," -11","  -3"," -48","  -4","   7"," -12"," -71","  52","  71"," -50"," -12","  27"," -24","  11","  52","  11","  45","  -5","   8","  85"," -15","  24","  41"," -85","   8","  36"," -43"," -47"," -13"," -46","   2","  89","  57","  24","  -5","  39"," -11"," -22","-672","-250"," 216"," -19","  -2"," 122","  50","  16","  19","-166"," 184"," 157","-131","   3","  55"," 112"," 148"," 248"," 185"," 117"," 437"," 389","  37","  36"," -33"," -60","  -4"," -79","   9"," -23","   6","   2","  27","  16"," -45"," -63"," -19"," -36"," -58","-104","  49"," -22"," -74"," -45"," -17","  74"," -97"," -39","   7"," -67"," -56"," -88","  30"," -64","   1","  31","  34","  67"," -32"," -49","-108"," -19","-120","-160"],[-33.74,-2.38,27.19,580,41.24,56.89,49.43,95.92,-229.27,-70.95,-84.75,-124.82,25.79,26.94,-438.46,-148.19,62.73,-22.09,-32.22,26.91,22.73,21.17,-6.77,-25,-5.06,70.18000000000001,98.11,298.2,115.09,127.45,-44.53,-190.48,140.91,-1.99,23.55,28.36,-1.28,30.71,-40.65,24.43,128.92,56.88,94.41,5.38,-411.11,35.38,-48.18,10.27,4.51,-11.8,-72.45999999999999,10.1,-16.88,18.68,-58.12,1.44,34.32,-35.59,-38.06,5.33,13.29,9.6,32.55,-4.09,27.27,17.98,-40.47,8.09,51.06,-27.09,10.88,-65.23999999999999,4.4,-2.59,-19.44,-3.33,-14.62,-53.85,-3.85,-6.67,46.67,-21.05,24.79,-12.28,-38.05,-41.25,-249.09,31.1,-10.37,-18.67,-48.47,-13.48,61.37,-12.03,-2.89,-5.91,-47.37,-47.81,8.380000000000001,-17.47,-11.82,-5.45,1.3,-4.7,16.98,0,9.27,0.31,50.23,1.3,9.970000000000001,33.33,-0.48,39.08,-32.24,-42.21,18.27,-36.86,-3.81,-25.68,3.77,-4.71,-1.69,45.07,51.67,39.39,-5.62,8.33,0,-210.67,25.27,-20.34,23.82,0.27,78.86,346.15,55.56,81.13,-146.07,40.94,-10000,62.22,-0,52.8,-21.47,35.66,20.16,25.3,60.93,-2400,-96.15000000000001,69.64,74.73999999999999,114.29,-4.78,20.51,25.41,-54.72,67.23999999999999,28.81,42.86,-60.27,-15.79,23.85,575,63.51,-40,39.62,6.19,-7.99,184.62,53.33,12.18,69.77,31.65,-18.18,20.81,-9.26,3.7,20.43,300,21.94,-20.32,33.42,24.21,1.04,10.69,38.28,12.13,-19.75,34.46,-10.82,20.71,10.42,-13.41,212.5,-62.9,28.09,-96.43000000000001,5.32,-28.72,-70.59,21.7,-4.14,-37.67,-11.73,11.39,98.95,14.5,-9.130000000000001,17.87,4.94,-1900,19.54,34.81,-13.42,-4.63,-7.96,3.85,56.57,15.34,2.25,17.71,5.77,28.33,2.41,5.83,-4.52,10.28,-19.69,143.9,18.12,9.76,-8.470000000000001,44.07,-13.35,59.88,29.27,3.61,-20.38,-12.9,17.91,44.58,27.1,60.71,4.63,16.89,3.88,107.77,-9.15,8.949999999999999,-1.94,1.78,-59.26,21.06,17.07,-35.09,80.7,-170,-32.91,-29.23,-107.58,-77.36,-191.67,7.27,0.74,245.76,-35.15,146.34,-15.15,333.33,-109.26,-20.61,7.37,6.76,-16.98,18.35,1750,1260,304.76,-86.36,-5.88,88.89,68.29000000000001,48.81,107.25,50.62,31.29,29.56,12.75,null,null,77.63,63.86,22.81,365.71,42.42,-26,31.33,87.5,29.56,74.7,12.75,11.11,-19.23,-16.67,62.35,27.27,19.33,-8.01,15.15,-1.29,-17.74,12.67,9.84,6.16,38.1,16.57,25.27,-14.19,305.88,-124,39.27,25.52,-25.32,-21.5,-20.57,-23.21,25,9.699999999999999,8.130000000000001,44.35,74.88,-6.98,32.65,26.11,31.48,-7.78,-2.86,27.87,16.49,-91.3,1.08,104.3,-150,-4.4,-56.67,56.1,77.63,24.1,9.09,70.15000000000001,-4.26,38,23.88,33.86,60.55,43.26,10.72,23.05,19.3,4.41,-1.69,-3.85,-13.86,-0.86,18.75,-40.26,-89.20999999999999,-49.61,117.19,22.02,242.86,192.31,22.12,7.35,0.23,28.57,-98.48,-5300,-295.83,28.1,58.06,32.24,47.06,18.3,-11.34,-12.44,-1.89,10,7.87,100,50.95,28.57,23.57,10.31,11.64,12.36,16.08,-69.12,20.69,-77.78,9.94,50,13.64,-24.82,40.89,29.22,-6.08,28.92,38.03,17.09,0.57,-13.37,-82.02,28.99,15.43,-2,25.91,11.9,21.53,21.17,5.42,5.26,5.24,-7.87,13.99,30.05,8.49,18.01,24.11,23.4,-27.86,-10.9,-5.88,-19.25,-7.69,8.98,3.59,-13.07,2.07,11.73,24.64,-7.75,10.12,-3.86,-15.59,-11.11,-58.33,-5.9,-1.19,14.2,25,-19.26,-8.539999999999999,-0.65,-5.09,-1.29,-96,-1.93,4.83,-5.71,-51.45,25,186.84,-23.7,-5.56,15.43,-13.64,3.4,33.55,6.29,16.79,-2.4,4.85,29.72,-12.61,8.76,20.92,-37.44,2.56,64.29000000000001,-28.1,-21.76,-20.97,-25.84,1.2,40.64,29.53,15.79,-1.92,21.2,-5.14,-8.76,48.94,1.2,7.93,-0.4,-0.11,8.17,7.03,2.45,7.2,54.25,78.97,29.29,-16.69,1.12,8.960000000000001,11.64,13.57,51.35,48.81,18.06,67.54000000000001,66.16,7.34,5.04,-8.289999999999999,-16.3,-1.04,-26.96,1.68,-7.88,2.23,0.76,9.31,6.69,-9.529999999999999,-25.4,-8.76,-16.59,-20.64,-99.05,20.76,-13.33,-28.24,-42.86,-9.34,25.52,-37.89,-16.53,2.26,-62.04,-25.93,-74.58,20.83,-82.05,0.39,72.09,13.03,20.74,-28.83,-48.04,-90,-12.03,-631.58,1230.77],[33.74,2.38,27.19,580,41.24,56.89,49.43,95.92,229.27,70.95,84.75,124.82,25.79,26.94,438.46,148.19,62.73,22.09,32.22,26.91,22.73,21.17,6.77,25,5.06,70.18000000000001,98.11,298.2,115.09,127.45,44.53,190.48,140.91,1.99,23.55,28.36,1.28,30.71,40.65,24.43,128.92,56.88,94.41,5.38,411.11,35.38,48.18,10.27,4.51,11.8,72.45999999999999,10.1,16.88,18.68,58.12,1.44,34.32,35.59,38.06,5.33,13.29,9.6,32.55,4.09,27.27,17.98,40.47,8.09,51.06,27.09,10.88,65.23999999999999,4.4,2.59,19.44,3.33,14.62,53.85,3.85,6.67,46.67,21.05,24.79,12.28,38.05,41.25,249.09,31.1,10.37,18.67,48.47,13.48,61.37,12.03,2.89,5.91,47.37,47.81,8.380000000000001,17.47,11.82,5.45,1.3,4.7,16.98,0,9.27,0.31,50.23,1.3,9.970000000000001,33.33,0.48,39.08,32.24,42.21,18.27,36.86,3.81,25.68,3.77,4.71,1.69,45.07,51.67,39.39,5.62,8.33,0,210.67,25.27,20.34,23.82,0.27,78.86,346.15,55.56,81.13,146.07,40.94,10000,62.22,0,52.8,21.47,35.66,20.16,25.3,60.93,2400,96.15000000000001,69.64,74.73999999999999,114.29,4.78,20.51,25.41,54.72,67.23999999999999,28.81,42.86,60.27,15.79,23.85,575,63.51,40,39.62,6.19,7.99,184.62,53.33,12.18,69.77,31.65,18.18,20.81,9.26,3.7,20.43,300,21.94,20.32,33.42,24.21,1.04,10.69,38.28,12.13,19.75,34.46,10.82,20.71,10.42,13.41,212.5,62.9,28.09,96.43000000000001,5.32,28.72,70.59,21.7,4.14,37.67,11.73,11.39,98.95,14.5,9.130000000000001,17.87,4.94,1900,19.54,34.81,13.42,4.63,7.96,3.85,56.57,15.34,2.25,17.71,5.77,28.33,2.41,5.83,4.52,10.28,19.69,143.9,18.12,9.76,8.470000000000001,44.07,13.35,59.88,29.27,3.61,20.38,12.9,17.91,44.58,27.1,60.71,4.63,16.89,3.88,107.77,9.15,8.949999999999999,1.94,1.78,59.26,21.06,17.07,35.09,80.7,170,32.91,29.23,107.58,77.36,191.67,7.27,0.74,245.76,35.15,146.34,15.15,333.33,109.26,20.61,7.37,6.76,16.98,18.35,1750,1260,304.76,86.36,5.88,88.89,68.29000000000001,48.81,107.25,50.62,31.29,29.56,12.75,null,null,77.63,63.86,22.81,365.71,42.42,26,31.33,87.5,29.56,74.7,12.75,11.11,19.23,16.67,62.35,27.27,19.33,8.01,15.15,1.29,17.74,12.67,9.84,6.16,38.1,16.57,25.27,14.19,305.88,124,39.27,25.52,25.32,21.5,20.57,23.21,25,9.699999999999999,8.130000000000001,44.35,74.88,6.98,32.65,26.11,31.48,7.78,2.86,27.87,16.49,91.3,1.08,104.3,150,4.4,56.67,56.1,77.63,24.1,9.09,70.15000000000001,4.26,38,23.88,33.86,60.55,43.26,10.72,23.05,19.3,4.41,1.69,3.85,13.86,0.86,18.75,40.26,89.20999999999999,49.61,117.19,22.02,242.86,192.31,22.12,7.35,0.23,28.57,98.48,5300,295.83,28.1,58.06,32.24,47.06,18.3,11.34,12.44,1.89,10,7.87,100,50.95,28.57,23.57,10.31,11.64,12.36,16.08,69.12,20.69,77.78,9.94,50,13.64,24.82,40.89,29.22,6.08,28.92,38.03,17.09,0.57,13.37,82.02,28.99,15.43,2,25.91,11.9,21.53,21.17,5.42,5.26,5.24,7.87,13.99,30.05,8.49,18.01,24.11,23.4,27.86,10.9,5.88,19.25,7.69,8.98,3.59,13.07,2.07,11.73,24.64,7.75,10.12,3.86,15.59,11.11,58.33,5.9,1.19,14.2,25,19.26,8.539999999999999,0.65,5.09,1.29,96,1.93,4.83,5.71,51.45,25,186.84,23.7,5.56,15.43,13.64,3.4,33.55,6.29,16.79,2.4,4.85,29.72,12.61,8.76,20.92,37.44,2.56,64.29000000000001,28.1,21.76,20.97,25.84,1.2,40.64,29.53,15.79,1.92,21.2,5.14,8.76,48.94,1.2,7.93,0.4,0.11,8.17,7.03,2.45,7.2,54.25,78.97,29.29,16.69,1.12,8.960000000000001,11.64,13.57,51.35,48.81,18.06,67.54000000000001,66.16,7.34,5.04,8.289999999999999,16.3,1.04,26.96,1.68,7.88,2.23,0.76,9.31,6.69,9.529999999999999,25.4,8.76,16.59,20.64,99.05,20.76,13.33,28.24,42.86,9.34,25.52,37.89,16.53,2.26,62.04,25.93,74.58,20.83,82.05,0.39,72.09,13.03,20.74,28.83,48.04,90,12.03,631.58,1230.77]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Date<\/th>\n      <th>Employment Level<\/th>\n      <th>Original Estimate<\/th>\n      <th>Final Estimate<\/th>\n      <th>Revision<\/th>\n      <th>Revision %<\/th>\n      <th>Absolute Revision %<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,25,50,100],"order":[[0,"desc"]],"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":[5,6]},{"name":"Date","targets":0},{"name":"Employment Level","targets":1},{"name":"Original Estimate","targets":2},{"name":"Final Estimate","targets":3},{"name":"Revision","targets":4},{"name":"Revision %","targets":5},{"name":"Absolute Revision %","targets":6}],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="statistics" class="level3">
<h3 class="anchored" data-anchor-id="statistics">Statistics</h3>
<p>Let’s look at the mean and median revisions over the last 45 years. These come out to <strong>11,500</strong> and <strong>10,000</strong>, respectively. That’s not bad, compared to some of the massive revisions. For a country of 300 million people, the estimates are pretty accurate.</p>
<p>A positive mean revision means the BLS generally underestimated job growth in the initial report, requiring a subsequent upward correction. A negative mean revision means the BLS generally overestimated job growth, requiring a downward correction.</p>
<div class="cell">
<details class="code-fold">
<summary>show summary stats</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#load package</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># overall revision statistics</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>overall_stats <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision =</span> <span class="fu">mean</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co">#mean</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_revision =</span> <span class="fu">median</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="co">#mean </span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>overall_stats <span class="sc">|&gt;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Metric"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>) <span class="sc">|&gt;</span> <span class="co">#pivot table</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Metric =</span> <span class="fu">case_when</span>( <span class="co">#rename columns</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>      Metric <span class="sc">==</span> <span class="st">"mean_revision"</span> <span class="sc">~</span> <span class="st">"Mean Revision"</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>      Metric <span class="sc">==</span> <span class="st">"median_revision"</span> <span class="sc">~</span> <span class="st">"Median Revision"</span>,</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Value =</span> <span class="fu">round</span>(Value, <span class="dv">2</span>)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>, <span class="at">ordering =</span> <span class="cn">FALSE</span>),</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Overall Revision Statistics"</span> <span class="co">#title</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-086be0789b2585339fb9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-086be0789b2585339fb9">{"x":{"filter":"none","vertical":false,"caption":"<caption>Overall Revision Statistics<\/caption>","data":[["Mean Revision","Median Revision"],[11.5,10]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Metric<\/th>\n      <th>Value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","ordering":false,"columnDefs":[{"className":"dt-right","targets":1},{"name":"Metric","targets":0},{"name":"Value","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Let’s look at the anomalies in revision, sorted by date. Each of these revisions correspond to important economic events. In the early 80s, there was high inflation and subsequently high rates by Volcker to combat said inflation. The largest revision in modern day is due to Covid and its Delta/Omicron variants.</p>
<div class="cell">
<details class="code-fold">
<summary>show largest revision</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># largest revisions in ces history</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>largest_revisions <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(abs_revision)) <span class="sc">|&gt;</span> <span class="co">#sort by absolute revision</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, original, final, revision, level) <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="co">#return 10 rows</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#show results in a clean datatable </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>largest_revisions <span class="sc">|&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span>  <span class="co"># sort by date first, before mutating</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">format</span>(date, <span class="st">"%Y-%m"</span>), <span class="co">#format date</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Original Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(original, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="co">#format with commas</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Final Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(final, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(revision, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Employment Level</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(level, <span class="at">big.mark =</span> <span class="st">","</span>)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date, <span class="st">`</span><span class="at">Original Estimate</span><span class="st">`</span>, <span class="st">`</span><span class="at">Final Estimate</span><span class="st">`</span>, <span class="st">`</span><span class="at">Revision</span><span class="st">`</span>, <span class="st">`</span><span class="at">Employment Level</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#select these columns</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>, <span class="at">ordering =</span> <span class="cn">FALSE</span>),</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Top 10 Largest Absolute Revisions"</span> <span class="co">#title</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-3fda10dba3cbe324dabd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3fda10dba3cbe324dabd">{"x":{"filter":"none","vertical":false,"caption":"<caption>Top 10 Largest Absolute Revisions<\/caption>","data":[["1980-04","1980-05","1981-04","1982-07","1983-09","2020-03","2020-04","2021-08","2021-11","2021-12"],["   -479","   -180","   -220","    -17","    733","   -701","-20,537","    235","    210","    199"],["   -193","   -483","    111","   -304","  1,116"," -1,373","-20,787","    483","    647","    588"],[" 286","-303"," 331","-287"," 383","-672","-250"," 248"," 437"," 389"],[" 90,849"," 90,420"," 91,283"," 89,521"," 91,247","150,895","130,424","147,246","149,206","149,781"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Date<\/th>\n      <th>Original Estimate<\/th>\n      <th>Final Estimate<\/th>\n      <th>Revision<\/th>\n      <th>Employment Level<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","ordering":false,"columnDefs":[{"name":"Date","targets":0},{"name":"Original Estimate","targets":1},{"name":"Final Estimate","targets":2},{"name":"Revision","targets":3},{"name":"Employment Level","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Now let’s look at the most positive and negative revisions in history. Most positive revisions come after a month of unexpected data and signal a recovery in the economy. Whereas most negative revisions are actually lagging and come after a major shock in the economy. We didn’t know the revised numbers for the Covid shock until a few months later when the magnitude of the pandemic was starting to be realized.</p>
<div class="cell">
<details class="code-fold">
<summary>show postive/negative revisions</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#. most positive and most negative revisions</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>extreme_revisions <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(revision)) <span class="sc">|&gt;</span> <span class="co">#sort by revision</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, original, final, revision) <span class="sc">|&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, (<span class="fu">n</span>()<span class="sc">-</span><span class="dv">4</span>)<span class="sc">:</span><span class="fu">n</span>())) <span class="co">#select top 5 and bottom 5</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">#show results in a clean formatted data table</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>extreme_revisions <span class="sc">|&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">format</span>(date, <span class="st">"%Y-%m"</span>), <span class="co">#format date and numbers by commas</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Original Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(original, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Final Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(final, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(revision, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Type =</span> <span class="fu">ifelse</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"Most Positive"</span>, <span class="st">"Most Negative"</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Type, Date, <span class="st">`</span><span class="at">Original Estimate</span><span class="st">`</span>, <span class="st">`</span><span class="at">Final Estimate</span><span class="st">`</span>, <span class="st">`</span><span class="at">Revision</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#select these columns</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>, <span class="at">ordering =</span> <span class="cn">FALSE</span>),</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Most Extreme Revisions (Top 5 Positive and Negative)"</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="co">#title</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">'Type'</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(<span class="fu">c</span>(<span class="st">'Most Positive'</span>, <span class="st">'Most Negative'</span>), <span class="fu">c</span>(<span class="st">'#d4edda'</span>, <span class="st">'#f8d7da'</span>)) <span class="co">#color coordinate highest and lowest revisions</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8190492cee4496920cfa" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8190492cee4496920cfa">{"x":{"filter":"none","vertical":false,"caption":"<caption>Most Extreme Revisions (Top 5 Positive and Negative)<\/caption>","data":[["Most Positive","Most Positive","Most Positive","Most Positive","Most Positive","Most Negative","Most Negative","Most Negative","Most Negative","Most Negative"],["2021-11","2021-12","1983-09","1981-04","1980-04","2008-09","2020-04","1982-07","1980-05","2020-03"],["    210","    199","    733","   -220","   -479","   -159","-20,537","    -17","   -180","   -701"],["    647","    588","  1,116","    111","   -193","   -403","-20,787","   -304","   -483"," -1,373"],[" 437"," 389"," 383"," 331"," 286","-244","-250","-287","-303","-672"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Type<\/th>\n      <th>Date<\/th>\n      <th>Original Estimate<\/th>\n      <th>Final Estimate<\/th>\n      <th>Revision<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","ordering":false,"columnDefs":[{"name":"Type","targets":0},{"name":"Date","targets":1},{"name":"Original Estimate","targets":2},{"name":"Final Estimate","targets":3},{"name":"Revision","targets":4}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'background-color':value == \"Most Positive\" ? \"#d4edda\" : value == \"Most Negative\" ? \"#f8d7da\" : null});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
<p>How do the revisions fare by decade? We start to notice a pattern in the decades using average revision. We oscillate between overestimation and underestimation of jobs, starting from the 70s all the way to modern day. It seems like for every decade that we under or overshoot, we adjust the following decade and the estimates become more refined. While the mean absolute revision <strong>(86.9k)</strong> is very high, driven primarily by the extreme volatility of the 2020 pandemic lockdowns and recovery, the fact that the mean is near zero implies that the BLS has become more accurate at employment estimation</p>
<div class="cell">
<details class="code-fold">
<summary>show revisions by decade</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># revisions by decade</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>decade_stats <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(decade) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="co">#summarize median and mean stats</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months =</span> <span class="fu">n</span>(),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision =</span> <span class="fu">mean</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision =</span> <span class="fu">mean</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision_pct =</span> <span class="fu">mean</span>(abs_revision_pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_positive =</span> <span class="fu">mean</span>(is_positive_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#show results in nice datatable</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>decade_stats <span class="sc">|&gt;</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Decade =</span> <span class="fu">paste0</span>(decade, <span class="st">"s"</span>),</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at"># Months</span><span class="st">`</span> <span class="ot">=</span> n_months, </span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_revision, <span class="dv">1</span>), <span class="co">#mean</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Abs Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_abs_revision, <span class="dv">1</span>), <span class="co">#mean abs revision</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Abs Revision (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_abs_revision_pct, <span class="dv">2</span>),</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">% Positive</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(pct_positive, <span class="dv">1</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Decade, <span class="st">`</span><span class="at"># Months</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mean Revision</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mean Abs Revision</span><span class="st">`</span>, </span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Mean Abs Revision (%)</span><span class="st">`</span>, <span class="st">`</span><span class="at">% Positive</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#select these columns</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>, <span class="at">ordering =</span> <span class="cn">FALSE</span>),</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Revision Statistics by Decade"</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a830692902ea9e9cf318" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a830692902ea9e9cf318">{"x":{"filter":"none","vertical":false,"caption":"<caption>Revision Statistics by Decade<\/caption>","data":[["1970s","1980s","1990s","2000s","2010s","2020s"],[12,120,120,120,120,66],[-17.8,7,26.1,6,15.9,0.5],[94.3,72.2,51.4,48.6,35.2,86.90000000000001],[116.38,42.77,161.96,null,72.2,52.23],[41.7,49.2,69.2,54.2,62.5,47]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Decade<\/th>\n      <th># Months<\/th>\n      <th>Mean Revision<\/th>\n      <th>Mean Abs Revision<\/th>\n      <th>Mean Abs Revision (%)<\/th>\n      <th>% Positive<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","ordering":false,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"name":"Decade","targets":0},{"name":"# Months","targets":1},{"name":"Mean Revision","targets":2},{"name":"Mean Abs Revision","targets":3},{"name":"Mean Abs Revision (%)","targets":4},{"name":"% Positive","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Can we identify any seasonality in the data if we break it down by month? We know businesses have hiring cycles, so it should be reflected in the data. But are people more likely to be laid off within a specific month? Based on our data, it seems that hiring slows down in the Summertime and Q1. Revisions increase during Q2 and Q4</p>
<div class="cell">
<details class="code-fold">
<summary>show seasonality stats</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  revisions by month of year</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>month_stats <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_name) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="co">#summarize stats like mean revisions</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_observations =</span> <span class="fu">n</span>(),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision =</span> <span class="fu">mean</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co">#mean revision</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision =</span> <span class="fu">mean</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision_pct =</span> <span class="fu">mean</span>(abs_revision_pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>month_stats <span class="sc">|&gt;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="co">#show values in a nice formatted datatable</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Month =</span> <span class="fu">as.character</span>(month_name),</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at"># Observations</span><span class="st">`</span> <span class="ot">=</span> n_observations, <span class="co">#mean revisions</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_revision, <span class="dv">1</span>),</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Abs Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_abs_revision, <span class="dv">1</span>),</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Abs Revision (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_abs_revision_pct, <span class="dv">2</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Month, <span class="st">`</span><span class="at"># Observations</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mean Revision</span><span class="st">`</span>, </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Mean Abs Revision</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mean Abs Revision (%)</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#select these columns</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>, <span class="at">ordering =</span> <span class="cn">FALSE</span>),</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Revision Statistics by Month"</span> <span class="co">#title</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e042c8d9d2c696af7cf6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e042c8d9d2c696af7cf6">{"x":{"filter":"none","vertical":false,"caption":"<caption>Revision Statistics by Month<\/caption>","data":[["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],[47,47,47,47,47,47,46,46,46,46,46,46],[0.1,2,-3.8,22.6,17.5,7.3,2.3,32.7,53.3,-17.7,29.1,-6.9],[48.2,43.7,65.59999999999999,68.90000000000001,55.5,53.5,53.4,53.8,80.2,50.7,55.1,54.3],[32.01,61.6,null,null,45.44,108.29,43.26,157.88,334.96,36.39,26.4,29.49]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Month<\/th>\n      <th># Observations<\/th>\n      <th>Mean Revision<\/th>\n      <th>Mean Abs Revision<\/th>\n      <th>Mean Abs Revision (%)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","ordering":false,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"name":"Month","targets":0},{"name":"# Observations","targets":1},{"name":"Mean Revision","targets":2},{"name":"Mean Abs Revision","targets":3},{"name":"Mean Abs Revision (%)","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>How have revisions changed over time? Excluding 2021 due to COVID, we can notice that the <em>magnitude</em> of revisions has decreased in recent years compared to historical data. This signals that the models and estimates used by BLS has gotten better at predicting employment.</p>
<div class="cell">
<details class="code-fold">
<summary>show revision over time</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. how has revision accuracy changed over time</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>trend_stats <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="co">#get mean revision and percentage by year</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision =</span> <span class="fu">mean</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision_pct =</span> <span class="fu">mean</span>(abs_revision_pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_positive =</span> <span class="fu">mean</span>(is_positive_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">#show data in nice formatted table</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(<span class="fu">head</span>(trend_stats, <span class="dv">5</span>), <span class="fu">tail</span>(trend_stats, <span class="dv">5</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Year =</span> year,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Abs Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_abs_revision, <span class="dv">1</span>), <span class="co">#rund mean to 1 decimal place</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Abs Revision (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_abs_revision_pct, <span class="dv">2</span>), <span class="co">#round percent to 2 decimal places</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">% Positive</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(pct_positive, <span class="dv">1</span>),</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">Period =</span> <span class="fu">ifelse</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"Early Years (1979-1983)"</span>, <span class="st">"Recent Years (2021-2025)"</span>)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Period, Year, <span class="st">`</span><span class="at">Mean Abs Revision</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mean Abs Revision (%)</span><span class="st">`</span>, <span class="st">`</span><span class="at">% Positive</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#select these columns</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>, <span class="at">ordering =</span> <span class="cn">FALSE</span>),</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Revision Trends: First and Last 5 Years"</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">'Period'</span>,</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(<span class="fu">c</span>(<span class="st">'Early Years (1979-1983)'</span>, <span class="st">'Recent Years (2021-2025)'</span>), </span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">'#fff3cd'</span>, <span class="st">'#d1ecf1'</span>)) <span class="co">#color coordinate by years</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8cfedf43680da402a4db" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8cfedf43680da402a4db">{"x":{"filter":"none","vertical":false,"caption":"<caption>Revision Trends: First and Last 5 Years<\/caption>","data":[["Early Years (1979-1983)","Early Years (1979-1983)","Early Years (1979-1983)","Early Years (1979-1983)","Early Years (1979-1983)","Recent Years (2021-2025)","Recent Years (2021-2025)","Recent Years (2021-2025)","Recent Years (2021-2025)","Recent Years (2021-2025)"],[1979,1980,1981,1982,1983,2021,2022,2023,2024,2025],[94.3,105.7,103.8,96.3,84.5,180.5,27.7,50.5,48.4,81.3],[116.38,71.58,95.33,73.97,25.61,34.35,7.79,26.67,35.7,340.21],[41.7,75,58.3,50,50,91.7,58.3,16.7,50,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Period<\/th>\n      <th>Year<\/th>\n      <th>Mean Abs Revision<\/th>\n      <th>Mean Abs Revision (%)<\/th>\n      <th>% Positive<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","ordering":false,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"name":"Period","targets":0},{"name":"Year","targets":1},{"name":"Mean Abs Revision","targets":2},{"name":"Mean Abs Revision (%)","targets":3},{"name":"% Positive","targets":4}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'background-color':value == \"Early Years (1979-1983)\" ? \"#fff3cd\" : value == \"Recent Years (2021-2025)\" ? \"#d1ecf1\" : null});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="visuals" class="level3">
<h3 class="anchored" data-anchor-id="visuals">Visuals</h3>
<p>Now let’s look at some visuals</p>
<p>We can distinctly notice a shift post Covid in revisions. There are a lot more downward revisions than upwards, signaling that perhaps employment has fundamentally changed. It could be a number of things: there’s more layoffs due to economic weakening, AI related increases in productivity, difficulty for younger workers to break into their respective fields.</p>
<div class="cell">
<details class="code-fold">
<summary>show revisions code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># timeline of revisions with color coding</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ces_combined, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> revision, <span class="at">fill =</span> is_positive_revision)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> <span class="co">#adjust the transparency of plot</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"darkgreen"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"darkred"</span>), <span class="co">#green for positive revisions, red for negative revisions</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Downward Revision"</span>, <span class="st">"Upward Revision"</span>),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">""</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"5 years"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span> <span class="co">#break at 5 years for scale</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co">#labels such as title, subtitle, x and y axis</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"CES Monthly Revisions Over Time"</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Difference between initial and final employment estimates (thousands)"</span>,</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revision (thousands)"</span>,</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Positive values indicate upward revisions; Negative indicate downward revisions"</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Timeline of CES Revisions Over 45 Years</figcaption>
</figure>
</div>
</div>
</div>
<p>The next graph shows how the magnitude of revisions has decreased over time by decade. We notice that the outliers in 2020 resemble the 1980s, which checks out. Both decades have had a lot of external shocks and you’ll often notice 20s inflation being compared to the 80s in news headlines.</p>
<div class="cell">
<details class="code-fold">
<summary>show decade comparison code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># boxplot of revisions by decade</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ces_combined, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(decade), <span class="at">y =</span> revision)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> <span class="co">#adjust transparency</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co">#adjust title, subtitle, xand y axis</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of CES Revisions by Decade"</span>,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Box plots show median, quartiles, and outliers"</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Decade"</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revision (thousands)"</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="co">#adjust font and format</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption>Revision Patterns by Decade</figcaption>
</figure>
</div>
</div>
</div>
<p>The following graph shows revisions by month. We notice that September typically has the largest revisions, followed by April and March, respectively. Coincidentally, September is the worst performing month in the stock market. It even has its own name: The September Effect. During this time, major indices usually underperform. We can’t exactly assume it’s due to employment but it may play a part.</p>
<div class="cell">
<details class="code-fold">
<summary>show monthly pattern code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># are certain months systematically revised more</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(month_stats, <span class="fu">aes</span>(<span class="at">x =</span> month_name, <span class="at">y =</span> mean_abs_revision)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"coral"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> <span class="co">#adjust transparency </span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(mean_abs_revision, <span class="dv">1</span>)),  <span class="co">#round value to 1 decimal place</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co">#title, subtitle, x and y axis values</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average Absolute Revision by Month"</span>,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Do certain months have systematically larger revisions?"</span>,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Month"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Mean absolute revision (thousands)"</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="co">#adjust font and format</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption>Systematic Monthly Patterns in Revision Magnitude</figcaption>
</figure>
</div>
</div>
</div>
<p>We noticed this earlier in the first graph, but this helps illustrate it better. The number of positive revisions has plummeted post 2020. This isn’t good. The last five years may feel like constant economic stress for a lot of people. Well that’s probably because it is. Employment hasn’t fully recovered and people are struggling. In contrast, we notice a big bounce in positive revisions during and after the housing crisis from 2005 to 2010. We bounced back far better back then compared to now.</p>
<div class="cell">
<details class="code-fold">
<summary>show positive/negative trend code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># proportion of positive revisions over time</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>ces_combined <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_group =</span> <span class="fu">floor</span>(year <span class="sc">/</span> <span class="dv">5</span>) <span class="sc">*</span> <span class="dv">5</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year_group) <span class="sc">|&gt;</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="co">#group by year and get average revision </span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_positive =</span> <span class="fu">mean</span>(is_positive_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_group, <span class="at">y =</span> pct_positive)) <span class="sc">+</span> <span class="co">#x and y axis values</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co">#dark blue for box</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">50</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> <span class="co">#adjust transparency </span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1980</span>, <span class="dv">2025</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co">#title, subtitle x and y axis</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Percentage of Positive CES Revisions Over Time"</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"5-year rolling averages; dashed line shows 50% (no systematic bias)"</span>,</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"5-year Period"</span>,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percentage of Revisions That Were Positive (%)"</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="co">#adjust font and format</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Proportion of Positive vs Negative Revisions Over Time</figcaption>
</figure>
</div>
</div>
</div>
<p>The graph below shows employment over time. It has steadily increased, despite shocks to the workforce. One thing we notice is that employment has recovered post COVID, but the magnitude of revisions is approaching 2008 levels. So unfortunately, it’s difficult to accurately conclude the recovery of employment post pandemic.</p>
<div class="cell">
<details class="code-fold">
<summary>show employment/revisions dual axis</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create scaling factor based on data ranges</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="fu">max</span>(ces_combined<span class="sc">$</span>level) <span class="sc">/</span> <span class="fu">max</span>(ces_combined<span class="sc">$</span>abs_revision)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ces_combined, <span class="fu">aes</span>(<span class="at">x =</span> date)) <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># employment line (primary axis)</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> level), </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="co">#blue for employment</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">1.2</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> <span class="co">#adjust transparency </span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># absolute revision line (scaled to match employment range)</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> abs_revision <span class="sc">*</span> coeff), </span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"coral"</span>, <span class="co">#coral for revision</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="dv">1</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> <span class="co">#adjust transparency </span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># dual y-axis</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Employment (thousands)"</span>,</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> comma,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> . <span class="sc">/</span> coeff,</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">"Absolute Revision (thousands)"</span>,</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> comma</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">#x axis interval of 5 years</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"5 years"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co">#title, subtitle, x axis and caption</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"CES Employment Level and Absolute Revisions Over Time"</span>,</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Blue Line: Total Employment (left axis) | Coral Line: Absolute Revision Magnitude (right axis)"</span>,</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Higher coral line indicates larger revisions between initial and final estimates"</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>( <span class="co">#adjust color and font</span></span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y.right =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"coral"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>),</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y.right =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"coral"</span>),</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>CES Employment Levels and Absolute Revisions Over Time</figcaption>
</figure>
</div>
</div>
</div>
<p>Let’s zoom in on the last two years. We can approximate the actual employment numbers by taking the total employment numbers and subtracting the revisions from it. Plotting this out, we notice that the gap between projected employment and actual employment is widening. As a matter of fact, the most recent gap is over 100,000 jobs. That’s very concerning!</p>
<div class="cell">
<details class="code-fold">
<summary>show 2024-2025 original vs revised employment</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter data for 2024-2025 and calculate revised employment</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>recent_data <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2024</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># original estimate is final minus revision</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">original_employment =</span> final,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the level is the final estimate</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">revised_employment =</span> level</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># create the plot with both employment lines</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(recent_data, <span class="fu">aes</span>(<span class="at">x =</span> date)) <span class="sc">+</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># original estimate line</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> original, <span class="at">color =</span> <span class="st">"Original Estimate"</span>), </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="co">#adjust parameters for plotting</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">linetype =</span> <span class="st">"dashed"</span>,</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> <span class="co">#ADJUST transparency </span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> original, <span class="at">color =</span> <span class="st">"Original Estimate"</span>), </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># final estimate line</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> final, <span class="at">color =</span> <span class="st">"Final Estimate"</span>), </span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> final, <span class="at">color =</span> <span class="st">"Final Estimate"</span>), </span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add ribbons to show the revision gap</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> <span class="fu">pmin</span>(original, final), <span class="co">#set y axis min and max values</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ymax =</span> <span class="fu">pmax</span>(original, final)),</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>              <span class="at">fill =</span> <span class="st">"gray"</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span> <span class="co">#adjust transparency</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># color scheme</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">""</span>,</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Original Estimate"</span> <span class="ot">=</span> <span class="st">"coral"</span>,  <span class="co">#set color scheme for two plots</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Final Estimate"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>)</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>( <span class="co">#y value label</span></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Employment (thousands)"</span>,</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> comma</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>  <span class="co">#adjust y value labels</span></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">date_breaks =</span> <span class="st">"1 month"</span>, </span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">date_labels =</span> <span class="st">"%b</span><span class="sc">\n</span><span class="st">%Y"</span>,</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>)</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co">#title subtitle x axis and caption</span></span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"CES Employment: Original vs Final Estimates (2024-2025)"</span>,</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Gray shaded area shows the magnitude of revisions between first and third estimates"</span>,</span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Coral dashed line: First published estimate | Blue solid line: Final revised estimate"</span></span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="co">#adjust font and text</span></span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Original vs Revised Employment Estimates (2024-2025)</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="statical-analysis" class="level1">
<h1>Statical Analysis</h1>
<p>Earlier we noticed that the number of negative revisions have increased post 2020. From here on, we’ll perform statistical tests to confirm that this is in fact true and not just simply randomness.</p>
<div class="cell">
<details class="code-fold">
<summary>show statistical inference tests</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install infer package if not installed</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"infer"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># set CRAN mirror before installing</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(<span class="at">CRAN =</span> <span class="st">"https://cloud.r-project.org/"</span>))</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"infer"</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(infer)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare data for tests</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>ces_test_data <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create binary variables for tests</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">post_2000 =</span> year <span class="sc">&gt;=</span> <span class="dv">2000</span>, <span class="co">#after 2000</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">post_2020 =</span> year <span class="sc">&gt;=</span> <span class="dv">2020</span>, <span class="co">#after 2020</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">negative_revision =</span> revision <span class="sc">&lt;</span> <span class="dv">0</span>,</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_revision =</span> abs_revision_pct <span class="sc">&gt;</span> <span class="dv">1</span>,</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># categorize employment changes</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_change =</span> level <span class="sc">-</span> <span class="fu">lag</span>(level),</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_employment_change =</span> <span class="fu">abs</span>(employment_change) <span class="sc">&gt;</span> <span class="dv">200</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>show statistical inference tests</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test if negative revisions are more common after 2000</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>test1_result <span class="ot">&lt;-</span> ces_test_data <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop_test</span>(negative_revision <span class="sc">~</span> post_2000, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span>, <span class="st">"FALSE"</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#combine results in a nice datatable. </span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co">#use chi square and p value test</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">#if p value less than 0.05, then it is statistically significant</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>test1_result <span class="sc">|&gt;</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Test =</span> <span class="st">"Negative Revisions: Post-2000 vs Pre-2000"</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Chi-Square Statistic</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(statistic, <span class="dv">3</span>), </span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format.pval</span>(p_value, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Difference (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>((upper_ci <span class="sc">-</span> lower_ci) <span class="sc">/</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>),</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Conclusion =</span> <span class="fu">ifelse</span>(p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>,  <span class="co">#threshold</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"Statistically significant difference"</span>, </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"No significant difference"</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Test, <span class="st">`</span><span class="at">Chi-Square Statistic</span><span class="st">`</span>, <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span>, <span class="st">`</span><span class="at">Difference (%)</span><span class="st">`</span>, Conclusion) <span class="sc">|&gt;</span> <span class="co">#select these columns</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>),</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Test 1: Proportion Test for Negative Revisions"</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-9ffc0c4358af329fc6f4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9ffc0c4358af329fc6f4">{"x":{"filter":"none","vertical":false,"caption":"<caption>Test 1: Proportion Test for Negative Revisions<\/caption>","data":[["Negative Revisions: Post-2000 vs Pre-2000"],[0.608],["0.435"],[8.59],["No significant difference"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Test<\/th>\n      <th>Chi-Square Statistic<\/th>\n      <th>P-Value<\/th>\n      <th>Difference (%)<\/th>\n      <th>Conclusion<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","columnDefs":[{"className":"dt-right","targets":[1,3]},{"name":"Test","targets":0},{"name":"Chi-Square Statistic","targets":1},{"name":"P-Value","targets":2},{"name":"Difference (%)","targets":3},{"name":"Conclusion","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>show statistical inference tests</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test if large revisions are more common after 2020</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>test2_result <span class="ot">&lt;-</span> ces_test_data <span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(large_revision)) <span class="sc">|&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop_test</span>(large_revision <span class="sc">~</span> post_2020,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span>, <span class="st">"FALSE"</span>),</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co">#combine results in a nice datatable. </span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co">#use chi square and p value test</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">#if p value less than 0.05, then it is statistically significant</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>test2_result <span class="sc">|&gt;</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Test =</span> <span class="st">"Large Revisions (&gt;1%): Post-2020 vs Pre-2020"</span>,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Chi-Square Statistic</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(statistic, <span class="dv">3</span>),</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format.pval</span>(p_value, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Difference (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>((upper_ci <span class="sc">-</span> lower_ci) <span class="sc">/</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>),</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Conclusion =</span> <span class="fu">ifelse</span>(p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>,  <span class="co">#threshold</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"Statistically significant difference"</span>, </span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"No significant difference"</span>)</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Test, <span class="st">`</span><span class="at">Chi-Square Statistic</span><span class="st">`</span>, <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span>, <span class="st">`</span><span class="at">Difference (%)</span><span class="st">`</span>, Conclusion) <span class="sc">|&gt;</span> <span class="co">#select these values</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>),</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Test 2: Proportion Test for Large Revisions"</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-dd02fd61a3ac57b6b4b2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-dd02fd61a3ac57b6b4b2">{"x":{"filter":"none","vertical":false,"caption":"<caption>Test 2: Proportion Test for Large Revisions<\/caption>","data":[["Large Revisions (&gt;1%): Post-2020 vs Pre-2020"],[1.957],["0.162"],[6.76],["No significant difference"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Test<\/th>\n      <th>Chi-Square Statistic<\/th>\n      <th>P-Value<\/th>\n      <th>Difference (%)<\/th>\n      <th>Conclusion<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","columnDefs":[{"className":"dt-right","targets":[1,3]},{"name":"Test","targets":0},{"name":"Chi-Square Statistic","targets":1},{"name":"P-Value","targets":2},{"name":"Difference (%)","targets":3},{"name":"Conclusion","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Well, it turns out that it is in fact random. Both large revisions and negative revisions after 2020 are not statistically significant. Despite visually appearing to show a pattern, there is no underlying pattern in the data. This is a good sanity check before crafting a narrative that supports our bias.</p>
<p>However, if we do a two sample t-test comparing absolute revisions pre and post 2020, we do notice statistical significance. Post 2020, the revisions are larger on an absolute basis.</p>
<div class="cell">
<details class="code-fold">
<summary>show statistical inference tests</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># two-sample t-test comparing absolute revisions before and after 2020</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>test4_result <span class="ot">&lt;-</span> ces_test_data <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">period =</span> <span class="fu">ifelse</span>(post_2020, <span class="st">"Post-2020"</span>, <span class="st">"Pre-2020"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t_test</span>(abs_revision <span class="sc">~</span> period,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Post-2020"</span>, <span class="st">"Pre-2020"</span>),</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>test4_result <span class="sc">|&gt;</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="co">#select these values for clean formatted datatable </span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Test =</span> <span class="st">"Absolute Revision: Post-2020 vs Pre-2020"</span>,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">T-Statistic</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(statistic, <span class="dv">3</span>),</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Degrees of Freedom</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(t_df, <span class="dv">0</span>),</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format.pval</span>(p_value, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Difference</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(estimate, <span class="dv">2</span>),</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI Lower</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(lower_ci, <span class="dv">2</span>),</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI Upper</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(upper_ci, <span class="dv">2</span>),</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Conclusion =</span> <span class="fu">ifelse</span>(p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>,<span class="co">#threshold for p test</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">ifelse</span>(estimate <span class="sc">&gt;</span> <span class="dv">0</span>, </span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Post-2020 revisions are significantly larger"</span>,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Pre-2020 revisions were significantly larger"</span>),</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"No significant difference between periods"</span>)</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Test, <span class="st">`</span><span class="at">T-Statistic</span><span class="st">`</span>, <span class="st">`</span><span class="at">Degrees of Freedom</span><span class="st">`</span>, <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span>, </span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Mean Difference</span><span class="st">`</span>, <span class="st">`</span><span class="at">95% CI Lower</span><span class="st">`</span>, <span class="st">`</span><span class="at">95% CI Upper</span><span class="st">`</span>, Conclusion) <span class="sc">|&gt;</span> <span class="co">#select these columns values</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Test 4: Two-Sample T-Test for Absolute Revisions"</span> <span class="co">#title</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-da3421fb21e61ab7b70c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-da3421fb21e61ab7b70c">{"x":{"filter":"none","vertical":false,"caption":"<caption>Test 4: Two-Sample T-Test for Absolute Revisions<\/caption>","data":[["Absolute Revision: Post-2020 vs Pre-2020"],[2.432],[69],["0.0176"],[34.07],[6.12],[62.03],["Post-2020 revisions are significantly larger"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Test<\/th>\n      <th>T-Statistic<\/th>\n      <th>Degrees of Freedom<\/th>\n      <th>P-Value<\/th>\n      <th>Mean Difference<\/th>\n      <th>95% CI Lower<\/th>\n      <th>95% CI Upper<\/th>\n      <th>Conclusion<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2,4,5,6]},{"name":"Test","targets":0},{"name":"T-Statistic","targets":1},{"name":"Degrees of Freedom","targets":2},{"name":"P-Value","targets":3},{"name":"Mean Difference","targets":4},{"name":"95% CI Lower","targets":5},{"name":"95% CI Upper","targets":6},{"name":"Conclusion","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="fact-checking-politicians" class="level1">
<h1>Fact Checking Politicians</h1>
<p>“A lie can travel halfway around the world while the truth is still putting on its shoes” -Unknown</p>
<p>Modern politics in the United States can be headache inducing. Anyone can say anything. So who do you believe? It’s easy to take data, twist it to fit your narrative and run wild with it. We are living in a time where fact checking is crucial. When it comes to jobs data and general data coming from the government, it is imperative that it is accurate and unbiased. Lot’s of decisions are made based on this data. Especially decisions involving money. So let’s take a look at some statements made by politicians using BLS jobs data and fact check.</p>
<div class="cell">
<details class="code-fold">
<summary>setup for fact checks</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#load packages</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># create presidents/party data</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># #code from professor assigning president to dates </span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>presidents_party <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">expand_grid</span>(<span class="at">year=</span><span class="dv">1979</span><span class="sc">:</span><span class="dv">2025</span>, </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">month =</span> month.name, </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">president =</span> <span class="cn">NA</span>, </span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">party =</span> <span class="cn">NA</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">president =</span> <span class="fu">case_when</span>( </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"January"</span>)  <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">1979</span>) <span class="sc">~</span> <span class="st">"Carter"</span>,</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">1981</span>) <span class="sc">~</span> <span class="st">"Reagan"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">1989</span>) <span class="sc">~</span> <span class="st">"Bush 41"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">1993</span>) <span class="sc">~</span> <span class="st">"Clinton"</span>,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2001</span>) <span class="sc">~</span> <span class="st">"Bush 43"</span>,</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2009</span>) <span class="sc">~</span> <span class="st">"Obama"</span>,</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2017</span>) <span class="sc">~</span> <span class="st">"Trump I"</span>,</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">~</span> <span class="st">"Biden"</span>,</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2025</span>) <span class="sc">~</span> <span class="st">"Trump II"</span>,</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">|&gt;</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">fill</span>(president) <span class="sc">|&gt;</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">party =</span> <span class="fu">if_else</span>(president <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Carter"</span>, <span class="st">"Clinton"</span>, <span class="st">"Obama"</span>, <span class="st">"Biden"</span>), </span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"D"</span>, </span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"R"</span>))</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a><span class="co"># join with our ces data to see which administration was elected during what time</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>ces_with_president <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> month.name[<span class="fu">month</span>(date)]) <span class="sc">|&gt;</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(presidents_party, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"month"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="fact-check-1-trumps-160-million-jobs-claim" class="level4">
<h4 class="anchored" data-anchor-id="fact-check-1-trumps-160-million-jobs-claim">Fact Check #1: Trump’s 160 Million Jobs Claim</h4>
<p>“Very close to 160 million people are now working in the United States. Nobody’s ever even come close to that number.” - Donald Trump, January 14, 2020</p>
<p>This is pretty straightforward and easy to check.</p>
<p>Employment in January 2020 was 152,031 million, not “very close to 160 million”. That’s off by nearly 8 million jobs. However, employment did reach 160+ million in February and March 2020 before COVID</p>
<p>The claim that “nobody’s ever even come close” is misleading, given that population has steadily increased over the years so naturally employment will go up proportionately. While the absolute number was a record, it was a natural continuation of post-recession growth trends</p>
<p>The 152 million number corroborates with PolitiFact and we can therefore conclude that this is mostly true.</p>
<div class="cell">
<details class="code-fold">
<summary>show analysis of 160M jobs claim</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get employment in January 2020</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>jan_2020_employment <span class="ot">&lt;-</span> ces_data <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">==</span> <span class="st">"2020-01-01"</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(level)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># find all months that hit 160M before January 2020</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>months_over_160m <span class="ot">&lt;-</span> ces_data <span class="sc">|&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&lt;=</span> <span class="st">"2020-01-01"</span>, level <span class="sc">&gt;=</span> <span class="dv">160000</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co"># show the months in a nice clean data table</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co"># if there is any higher employment number, it should show here</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>months_over_160m <span class="sc">|&gt;</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">format</span>(date, <span class="st">"%B %Y"</span>),</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Employment (thousands)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(level, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="co">#comma format</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Employment (millions)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(level <span class="sc">/</span> <span class="dv">1000</span>, <span class="dv">1</span>)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date, <span class="st">`</span><span class="at">Employment (thousands)</span><span class="st">`</span>, <span class="st">`</span><span class="at">Employment (millions)</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">dom =</span> <span class="st">'t'</span>),</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"All Months with Employment ≥ 160 Million Before January 2020"</span> <span class="co">#title</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-2b370d19160aedc6c4f0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2b370d19160aedc6c4f0">{"x":{"filter":"none","vertical":false,"caption":"<caption>All Months with Employment ≥ 160 Million Before January 2020<\/caption>","data":[[],[],[]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Date<\/th>\n      <th>Employment (thousands)<\/th>\n      <th>Employment (millions)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"dom":"t","columnDefs":[{"className":"dt-right","targets":2},{"name":"Date","targets":0},{"name":"Employment (thousands)","targets":1},{"name":"Employment (millions)","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># highlight the 160M threshold as a dashed line</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># plot data in a clean formatted chart</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>ces_data <span class="sc">|&gt;</span> </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(date)) <span class="sc">|&gt;</span>  <span class="co"># create year column first</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2015</span>) <span class="sc">|&gt;</span> <span class="co">#filter for date past 2015  </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> level <span class="sc">/</span> <span class="dv">1000</span>)) <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">160</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co">#indicate when the tweet was made</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">color =</span> <span class="st">"darkgreen"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="at">y =</span> <span class="dv">145</span>, <span class="co">#add anotation </span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Trump's claim</span><span class="sc">\n</span><span class="st">(Jan 2020)"</span>, <span class="at">hjust =</span> <span class="fl">1.1</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">color =</span> <span class="st">"darkgreen"</span>) <span class="sc">+</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2018-06-01"</span>), <span class="at">y =</span> <span class="fl">160.5</span>, <span class="co">#add job number figure</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"160 Million threshold"</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"6 months"</span>, <span class="at">date_labels =</span> <span class="st">"%b</span><span class="sc">\n</span><span class="st">%Y"</span>) <span class="sc">+</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="co">#title subtitle x and y axis labels</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"US Employment 2015-2020: Was 160 Million Unprecedented?"</span>,</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Red dashed line shows 160M threshold; green line marks Trump's claim date"</span>,</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Employment (millions)"</span>,</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Employment exceeded 160M multiple times before January 2020"</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare peak employment by president</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>presidential_peaks <span class="ot">&lt;-</span> ces_with_president <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(president) <span class="sc">|&gt;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="co">#peak employment and date</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">peak_employment =</span> <span class="fu">max</span>(level, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">peak_date =</span> date[<span class="fu">which.max</span>(level)],</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(president))</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#plot bar plot with employment and presidential term</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(presidential_peaks, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(president, peak_employment), </span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>                                <span class="at">y =</span> peak_employment <span class="sc">/</span> <span class="dv">1000</span>)) <span class="sc">+</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> president <span class="sc">==</span> <span class="st">"Trump I"</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> <span class="co">#format numbers cleanly</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">format</span>(<span class="fu">round</span>(peak_employment <span class="sc">/</span> <span class="dv">1000</span>, <span class="dv">1</span>), <span class="at">nsmall =</span> <span class="dv">1</span>)),</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>, <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"gray70"</span>, <span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"coral"</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="co">#title subtitle x and y values</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peak Employment by President"</span>,</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Trump I highlighted; employment in millions"</span>,</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"peak employment (millions)"</span>,</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Trump's peak employment was not unprecedented in absolute terms"</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fact-check-2-trumps-rigged-revision-claim" class="level4">
<h4 class="anchored" data-anchor-id="fact-check-2-trumps-rigged-revision-claim">Fact Check #2: Trump’s Rigged Revision Claim</h4>
<p>“Bureau of Labor Statistics employment numbers”were rigged” when the agency revised them “down by almost 900,000 jobs” after the 2024 election.” - Donald Trump, August 5, 2025</p>
<div class="cell">
<details class="code-fold">
<summary>show analysis of revision rigging claim</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># analyze 2024 revisions</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>revisions_2024 <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2024</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate total revision for 2024</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>total_revision_2024 <span class="ot">&lt;-</span> <span class="fu">sum</span>(revisions_2024<span class="sc">$</span>revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># compare to historical patterns</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>revision_by_year <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="co">#summarize stats in clean table</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_annual_revision =</span> <span class="fu">sum</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision =</span> <span class="fu">mean</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision =</span> <span class="fu">mean</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_negative =</span> <span class="fu">sum</span>(revision <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_positive =</span> <span class="fu">sum</span>(revision <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="co"># show recent years</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co"># #show datatable</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>revision_by_year <span class="sc">|&gt;</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2020</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="co">#select these columns and format for 2020 and onwards</span></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">Year =</span> year,</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format</span>(total_annual_revision, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_revision, <span class="dv">1</span>),</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Abs Revision</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(mean_abs_revision, <span class="dv">1</span>),</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at"># Negative</span><span class="st">`</span> <span class="ot">=</span> n_negative,</span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at"># Positive</span><span class="st">`</span> <span class="ot">=</span> n_positive</span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, <span class="st">`</span><span class="at">Total Revision</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mean Revision</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mean Abs Revision</span><span class="st">`</span>, </span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at"># Negative</span><span class="st">`</span>, <span class="st">`</span><span class="at"># Positive</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>, <span class="at">ordering =</span> <span class="cn">FALSE</span>),</span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Annual Revision Patterns 2020-2025"</span><span class="co">#title</span></span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7bd75c044b123274b23d" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7bd75c044b123274b23d">{"x":{"filter":"none","vertical":false,"caption":"<caption>Annual Revision Patterns 2020-2025<\/caption>","data":[[2020,2021,2022,2023,2024,2025],[" -719","1,904","  -66"," -360"," -241"," -488"],[-59.9,158.7,-5.5,-30,-20.1,-81.3],[130.4,180.5,27.7,50.5,48.4,81.3],[7,1,5,10,6,6],[5,11,7,2,6,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Year<\/th>\n      <th>Total Revision<\/th>\n      <th>Mean Revision<\/th>\n      <th>Mean Abs Revision<\/th>\n      <th># Negative<\/th>\n      <th># Positive<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","ordering":false,"columnDefs":[{"className":"dt-right","targets":[0,2,3,4,5]},{"name":"Year","targets":0},{"name":"Total Revision","targets":1},{"name":"Mean Revision","targets":2},{"name":"Mean Abs Revision","targets":3},{"name":"# Negative","targets":4},{"name":"# Positive","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test if 2024 revisions are significantly different from pre-2024 average</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>test_2024_unusual <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_2024 =</span> year <span class="sc">==</span> <span class="dv">2024</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t_test</span>(abs_revision <span class="sc">~</span> is_2024,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span>, <span class="st">"FALSE"</span>),</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">alternative =</span> <span class="st">"two.sided"</span>) <span class="co">#two sided t test</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co">#show data in clean datatable</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>test_2024_unusual <span class="sc">|&gt;</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Test =</span> <span class="st">"2024 Revisions vs Historical Average"</span>,</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">T-Statistic</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(statistic, <span class="dv">3</span>),</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format.pval</span>(p_value, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Difference</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(estimate, <span class="dv">2</span>),</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Conclusion =</span> <span class="fu">ifelse</span>(p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>, <span class="co">#p test threshold</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"2024 revisions ARE statistically unusual"</span>, <span class="co">#if else statement</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"2024 revisions are NOT statistically unusual"</span>)</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Test, <span class="st">`</span><span class="at">T-Statistic</span><span class="st">`</span>, <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mean Difference</span><span class="st">`</span>, Conclusion) <span class="sc">|&gt;</span> <span class="co">#select these columns</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">'t'</span>),</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Statistical Test: Are 2024 Revisions Unusual?"</span> <span class="co">#title</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-9f04d706b5c8987ae076" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9f04d706b5c8987ae076">{"x":{"filter":"none","vertical":false,"caption":"<caption>Statistical Test: Are 2024 Revisions Unusual?<\/caption>","data":[["2024 Revisions vs Historical Average"],[-0.96],["0.354"],[-8.67],["2024 revisions are NOT statistically unusual"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Test<\/th>\n      <th>T-Statistic<\/th>\n      <th>P-Value<\/th>\n      <th>Mean Difference<\/th>\n      <th>Conclusion<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","columnDefs":[{"className":"dt-right","targets":[1,3]},{"name":"Test","targets":0},{"name":"T-Statistic","targets":1},{"name":"P-Value","targets":2},{"name":"Mean Difference","targets":3},{"name":"Conclusion","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This is also very easily to fact check and disprove. Total 2024 revisions were approximately <strong>-241</strong> thousand, not “almost 900,000”</p>
<p>“Rigged” implies intentional bias but statistical testing shows 2024 revisions are <strong>not</strong> unusual given that our p-value is <strong>function (x, obs_stat, direction) , {, lifecycle::deprecate_stop(“0.4.0”, “conf_int()”, “get_p_value()”), }</strong> and does not go below the threshold of 0.05</p>
<p>It’s important to note that revisions of similar magnitude occurred under both Democratic and Republican administrations, with no systematic partisan pattern. BLS revisions follow a regular schedule of being released every month, independent of elections. The revision process is transparent, methodologically sound, and overseen by career statisticians, making it apolitical.</p>
<p>The claim that revisions were “rigged” is completely false with no statistical or procedural evidence to support it. Our analysis concludes that this claim is pants on fire, in line with PolitiFact.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot total annual revisions over time</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(revision_by_year, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> total_annual_revision)) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> year <span class="sc">==</span> <span class="dv">2024</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> <span class="co">#fill in for 2024 only so its highlighted</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="sc">-</span><span class="dv">900</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1985</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">900</span>, </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Trump's claimed -900k"</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"gray70"</span>, <span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"coral"</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span> <span class="co">#color coordinadate </span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1980</span>, <span class="dv">2024</span>, <span class="dv">5</span>)) <span class="sc">+</span> <span class="co">#x axis values</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="co">#title subtitle x and y axis values</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Total Annual CES Revisions 1979-2024"</span>,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"2024 highlighted; positive values = upward revisions, negative = downward"</span>,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Total annual revision (thousands)"</span>,</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"2024 revisions are within normal historical range"</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># analyze revisions by party</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>party_revisions <span class="ot">&lt;-</span> ces_with_president <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(party)) <span class="sc">|&gt;</span> <span class="co">#make sure not null</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(party, president) <span class="sc">|&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="co">#get stats - mean revision and mean absolute revision and total revision</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision =</span> <span class="fu">mean</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision =</span> <span class="fu">mean</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_revision =</span> <span class="fu">sum</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months =</span> <span class="fu">n</span>(),</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">#plot data</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(party_revisions, <span class="fu">aes</span>(<span class="at">x =</span> president, <span class="at">y =</span> mean_revision, <span class="at">fill =</span> party)) <span class="sc">+</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> <span class="co">#adjust transparency</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"D"</span> <span class="ot">=</span> <span class="st">"blue"</span>, <span class="st">"R"</span> <span class="ot">=</span> <span class="st">"red"</span>), <span class="co">#red for republicans and blue for dems</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"D"</span> <span class="ot">=</span> <span class="st">"Democratic"</span>, <span class="st">"R"</span> <span class="ot">=</span> <span class="st">"Republican"</span>),</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Party"</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="co">#adjust title subttile axis and caption values</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average Monthly Revision by President"</span>,</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Positive values = upward revisions; negative = downward revisions"</span>,</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Average monthly revision (thousands)"</span>,</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"No systematic bias favoring or disfavoring either party"</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>It’s very easy to get swayed by numbers that sound correct. It’s even easier to get convinced when someone confidently states something incorrect. In this day and age, it’s very important to be vigilant and fact check politicians. Trust the data and statistics. Never trust a politician.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/ShahriaAhmed\.github\.io\/STA9750-2025-FALL\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>